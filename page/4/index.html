<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS,Python,Unity" />





  <link rel="alternate" href="/atom.xml" title="Cheng JianFeng's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/logo.jpg?v=5.1.0" />






<meta name="description" content="iOS,Python,Unity">
<meta property="og:type" content="website">
<meta property="og:title" content="Cheng JianFeng's Blog">
<meta property="og:url" content="https://treasureu.github.io/page/4/index.html">
<meta property="og:site_name" content="Cheng JianFeng's Blog">
<meta property="og:description" content="iOS,Python,Unity">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cheng JianFeng's Blog">
<meta name="twitter:description" content="iOS,Python,Unity">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '6369437447528383000',
      author: '健康哥哥'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://treasureu.github.io/page/4/"/>





  <title> Cheng JianFeng's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Cheng JianFeng's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">心有猛虎,细嗅蔷薇.</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th-list"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/图解HTTP-读书笔记：web页面安全及构建相关内容/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/图解HTTP-读书笔记：web页面安全及构建相关内容/" itemprop="url">
                  图解HTTP-读书笔记：web页面安全及构建相关内容
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:35:46+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/通用编程基础/" itemprop="url" rel="index">
                    <span itemprop="name">通用编程基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/图解HTTP-读书笔记：web页面安全及构建相关内容/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/图解HTTP-读书笔记：web页面安全及构建相关内容/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="author" content="程剑锋"><meta name="created" content="2016-04-20 05:29:53 +0000"><meta name="updated" content="2016-09-02 01:25:25 +0000"><title>图解HTTP-读书笔记：web页面安全及构建相关内容</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul><li>web页面构建技术概览：</li><li style="list-style: none; display: inline"><ul><li>HTML：超文本标记语言，用于格式化传输和展示内容。</li><li>CSS：层叠样式表，专注于如何展示HTML内的元素，控制布局的样式。</li><li>JS语言：提供动态的脚本语言执行能力。</li><li>DOM：一系列可以操作HTML和XHTML的API，使用JS即可调用。</li></ul></li><li>web页面数据交换格式：</li><li style="list-style: none; display: inline"><ul><li>XML：标签易于扩展，但冗余数据过多。</li><li>JSON：轻量级数据交换格式，目前的主流。</li></ul></li><li>Web页面攻击技术：（暂时不关注这一块，可以以后再看）</li><li style="list-style: none; display: inline"><ul><li>因输出值转义不完全导致的安全漏洞：</li><li style="list-style: none; display: inline"><ul><li>跨站脚本攻击：即在表单填写时，写入JS语法或者是HTML语法，使其在浏览器内动态的执行。最明显的就是document.getCookie 盗取网站的cookies信息了（需要该网站未设置 cookies 未 HttpOnly 才行）。</li></ul></li><li style="list-style: none; display: inline"><ul><li>SQL注入：利用SQL语法特性，使输入语句执行特定的SQL。常见的比如 -- 可注释掉之后的SQL语句</li><li>OS命令注入：利用OS命令注入，使系统额外执行特定的shell命令。比如 利用 ； 隔开后，直接执行其他未经许可的命令。</li><li>目录遍历攻击：使用 . .. 等标识符，定位到未经许可的文件夹中操作。</li><li>Http首部注入攻击：在首部写入字段中插入换行，使换行后的内容成为HTTP首部的字段之一</li><li>邮件首部注入攻击：也是通过换行符的操作执行的。</li><li>远程文件包含漏洞：PHP语法漏洞，可以支持从外部服务器加载执行文件</li></ul></li><li>因设置或设计上的缺陷引发安全漏洞：</li><li style="list-style: none; display: inline"><ul><li>强制浏览：即原本不对外暴露的URL，通过强设URL，即可进行访问</li><li>不正确的错误处理信息：不应该将详细信息返回给用户代理，否则可能会将自己服务器的信息泄露给别人。</li><li>开放重定向功能：即在URL后附加Redirect字段。</li></ul></li><li>因会话管理疏忽引发的安全漏洞：</li><li style="list-style: none; display: inline"><ul><li>会话劫持：即通过获得到用户的cookies后，伪装成用户进行会话。</li><li>会话固定：即诱导用户去认证，然后拿到认证信息或者会话ID后，伪装成用户去访问。</li><li>跨站点请求伪造：即通过嵌入脚本的形式，诱导用户触发，然后通过用户代理发起请求。（此时请求视为是用户主动发起的，因此服务端无法识别到差异）</li></ul></li><li>其他安全漏洞：</li><li style="list-style: none; display: inline"><ul><li>密码破解</li><li>点击劫持：利用透明按钮等方式，使用户在不知不觉中触发事件。</li><li>Dos攻击（Denial of service attack）:拒绝服务攻击。一般有两种方式：</li><li style="list-style: none; display: inline"><ul><li>海量访问，使服务器过载。多台计算机发起的Dos攻击称为 DDos攻击（Distributed&nbsp;&nbsp;Denial of service attack&nbsp;&nbsp;）</li><li>利用服务器安全漏洞，是其宕机。</li></ul></li><li>后门程序</li></ul></li></ul></li><li>Web页面攻击防护技术：</li><li style="list-style: none; display: inline"><ul><li>客户端验证：使用JS对输入做校验。</li><li>服务端做验证：</li><li style="list-style: none; display: inline"><ul><li>输入值验证：对输入的数据做校验，及早发现对系统存在攻击性的文案</li><li>输出值转义：对输出值做转义，防止输出对象对输出接受者造成损害。</li></ul></li></ul></li></ul></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/图解HTTP-读书笔记：HTTP基础概念/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/图解HTTP-读书笔记：HTTP基础概念/" itemprop="url">
                  图解HTTP-读书笔记：HTTP基础概念
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:35:46+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/通用编程基础/" itemprop="url" rel="index">
                    <span itemprop="name">通用编程基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/图解HTTP-读书笔记：HTTP基础概念/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/图解HTTP-读书笔记：HTTP基础概念/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="altitude" content="13.19274234771729"><meta name="author" content="程剑锋"><meta name="created" content="2016-04-17 10:53:05 +0000"><meta name="latitude" content="31.21613558920665"><meta name="longitude" content="121.3024535336664"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-09-02 01:25:34 +0000"><title>图解HTTP-读书笔记：HTTP基础概念</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul><li>万维网由三个基本协议构建：HTML(超文本标记语言)、HTTP(超文本传输协议)、URL(统一资源定位)</li><li>与HTTP相关的常见协议：
<ul><li>TCP：传输层协议，提供可靠流传输。三次握手（使用 SYN + ACK 同步），四次释放（由于需要确认双向关闭，避免对之后的通信链路造成影响）。</li><li>IP：网络层协议，中转传输。通过将 IP地址 与 MAC地址 绑定，将数据从一台主机传输到另一台主机。</li><li>DNS：应用层协议，用于将 URL地址转化为 IP地址。</li></ul></li><li>HTTP请求分为两个部分（两者之间采用 CR+LF分割）&nbsp;&nbsp;：
<ul><li>报文首部：</li><li style="list-style: none; display: inline"><ul><li>一个请求行：包含 HTTP方法、请求URI、HTTP版本</li><li>多个请求头参数：</li><li style="list-style: none; display: inline"><ul><li>通用首部字段</li><li>请求首部字段</li><li>实体首部字段</li><li>其他（主要是 cookies）</li></ul></li></ul></li><li>报文主体：
<ul><li>可以支持 chunked编码传输，理论上其并没有大小的范围限制。</li><li>可以在 content-Type 中指明 multipart/form-data（表单上传） 或者是 multipart/teranges（响应返回），通过该参数内的 boundary 字段指明分割标志，从而传输多类型实体。</li></ul></li></ul></li><li>HTTP响应分为两个部分（两者之间采用 CR+LF分割）：</li><li style="list-style: none; display: inline"><ul><li>报文首部：</li><li style="list-style: none; display: inline"><ul><li>一个响应行:包括 协议版本、状态码、原因短语</li><li>多种响应头参数：</li><li style="list-style: none; display: inline"><ul><li>通用首部字段</li><li>响应首部字段</li><li>实体首部字段</li><li>其他（主要是 cookies）</li></ul></li></ul></li><li>报文主体：</li><li style="list-style: none; display: inline"><ul><li>可以支持 chunked编码传输</li><li>可以在 content-Type 中指明 multipart/form-data（表单上传） 或者是 multipart/teranges（响应返回），通过该参数内的 boundary 字段指明分割标志，从而传输多类型实体。</li></ul></li></ul></li><li>可以使用Cookie将无状态的HTTP协议变为有状态。cookie由服务端主张设置，客户端执行设置，并在下次请求中附带内容。Session是基于Cookie管理的。</li><li style="list-style: none; display: inline"><ul><li><img src="%E5%9B%BE%E8%A7%A3HTTP-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9AHTTP%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5.resources/0108D962-2AED-406E-A0C2-CEFFBF481FB6.png" height="248" width="425"></li></ul></li><li>可以使用 Range 字段指定想要请求的资源范围。但这需要服务器支持，如果服务器支持这种请求，那么会返回 206 Partial Content 以及指定范围的内容。否则将返回 200 OK 以及完整的实体内容。</li><li>服务器和客户端可以就 响应资源的内容进行协商，从而返回最适合客户端的响应。</li><li style="list-style: none; display: inline"><ul><li>协商方式：</li><li style="list-style: none; display: inline"><ul><li>服务器驱动协商：需要客户端在请求参数中传入完善的协商信息，然后服务端根据要求返回相应的内容</li><li>客户端驱动协商：用户可以在客户端手动配置一些选项，比如切换语言等，然互通过JS脚本的方式实现替换。</li><li>透明协商：主流模式，就是上面两者的结合体。</li></ul></li><li>协商相关的字段：（主要是<b>请求首部字段</b>，因为协商必然是需要根据请求来做处理的）</li><li style="list-style: none; display: inline"><ul><li>Accept：用户代理能处理的媒体类型及媒体类型优先级。可以有多个值。</li><li>Accept-Charset：用户代理支持的字符集以及能接受的字符集优先级。</li><li>Accept-Encoding：用户代理能支持的内容编码及其优先级。主要有gzip、deflate、compress 和 identity等。</li><li>Accerpt-Language：用户代理能处理的自然语言集及其优先级。</li></ul></li></ul></li><li>HTTP请求响应状态码区分：（具体内容可以参见图解HTTP举例）</li><li style="list-style: none; display: inline"><ul><li>1xx：信息性状态码，接受的请求正在处理。</li><li>2xx：成功状态码，请求正常处理完毕。</li><li>3xx：重定向状态码，需要进行附加操作以完成请求。</li><li style="list-style: none; display: inline"><ul><li>其中 304 Not Modified 表示 在请求中附加附带条件时，如果服务端判断条件不满足，即无可响应实体，便会返回这个字段。其虽归类为重定向一族，但是与重定向无关。</li><li>一般来说，重定向后浏览器会自动将POST改为 GET，但是 307 Temperory Redirect 强制要求不可转换方式。其他均会被默认转换方式。</li></ul></li><li>4xx：客户端错误状态码，服务端无法处理请求。一般表示请求错误，或者服务端不想响应，或者需要验证等。</li><li>5xx：服务器错误状态码，一般表示服务器处理出错，或者过载。</li></ul></li><li>通信数据转发程序：代理服务器、网关 和 隧道。</li><li>代理服务器，其基本行为就是接受客户端发送的请求后转发给其他的服务器。代理不改变请求的URI，会直接发送给前方持有资源的目标服务器。</li><li style="list-style: none; display: inline"><ul><li>分类：</li><li style="list-style: none; display: inline"><ul><li>按照是否使用缓存：缓存代理 和 透明代理。</li><li>按照是否会修改报文： 透明代理 和 非透明代理。</li></ul></li><li>相关字段： via，每次通过代理服务器时会追加这一字段。</li><li>有些请求参数在通过 代理服务器时会被删除，因为其只在 客户端和代理服务器之间生效。</li></ul></li><li>缓存有效性问题：一份缓存的有效性需要综合 客户端要求、缓存的有效期等因素决定，在超出有效期后需要发送请求向服务端确认。</li><li>首部字段根据生效的持续时间被划分为两种：</li><li style="list-style: none; display: inline"><ul><li>End-to-End Header：端到端首部，其参数会一直保留在HTTP请求中，从客户端一直传递到服务端。</li><li>Hop-by-hop Header：逐跳首部，其参数只会在单次转发中生效，然后就会被删除。</li><li style="list-style: none; display: inline"><ul><li>具体有以下字段：Connection、Keep-Alive、Proxy-Authenticate、Proxy-Authenorization、Trailer、TE、Transfer-Encoding、Upgrade</li></ul></li></ul></li><li>具体首部字段的含义请参考《图解HTTP》</li></ul></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/图解HTTP-读书笔记：HTTPS相关内容及HTTP协议的扩展/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/图解HTTP-读书笔记：HTTPS相关内容及HTTP协议的扩展/" itemprop="url">
                  图解HTTP-读书笔记：HTTPS相关内容及HTTP协议的扩展
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:35:46+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/通用编程基础/" itemprop="url" rel="index">
                    <span itemprop="name">通用编程基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/图解HTTP-读书笔记：HTTPS相关内容及HTTP协议的扩展/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/图解HTTP-读书笔记：HTTPS相关内容及HTTP协议的扩展/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="author" content="程剑锋"><meta name="created" content="2016-04-19 11:09:37 +0000"><meta name="updated" content="2016-09-02 01:25:31 +0000"><title>图解HTTP-读书笔记：HTTPS相关内容及HTTP协议的扩展</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul><li>HTTP的缺点：</li><li style="list-style: none; display: inline"><ul><li>安全方面的缺点：</li></ul></li><li style="list-style: none; display: inline"><ul><li style="list-style: none; display: inline"><ul><li>未加密，采用明文传输易被窃听</li><li>易伪造，通信时没有验证双方的身份</li><li>易篡改，传输过程中内容可能会被篡改</li></ul></li><li>功能方面的缺点：</li><li style="list-style: none; display: inline"><ul><li>一条链接上只可发送一条请求，虽然该链接可以复用，但是只有等上次的请求响应返回后才能发送下一次请求。无法实现并行发送。</li><li>请求只能由客户端发起，服务端被动响应。且客户端无法接受响应wait的其他指令。</li><li>请求/响应的首部字段无法压缩，且每次都需要带上完整的首部字段。导致冗余信息过多。</li><li>虽然可以选择任意压缩格式，但是仅限于对于实体有效，且非强制进行压缩。</li></ul></li></ul></li><li>HTTPS并非是一种新的协议，而是HTTP通信部分接口采用SSL协议（也是一个应用层协议）代替而已（之前是直接采用TCP协议来实现）。</li><li style="list-style: none; display: inline"><ul><li><img src="%E5%9B%BE%E8%A7%A3HTTP-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9AHTTPS%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%8F%8AHTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%89%A9%E5%B1%95.resources/5EFAA60B-3767-4491-BB97-D0396762659F.png" height="172" width="352"></li><li>其中SSL是独立的协议，也是广泛引用的网络安全传输协议。其可以与SMTP、Telnet等联合使用，提高安全性。</li></ul></li><li>SSL协议加密要点讲解：</li><li style="list-style: none; display: inline"><ul><li>存在完全可信的第三方认证机构CA，其的数字证书和公开密钥会提前植入在浏览器内部。</li><li>CA使用私有密钥对服务器的的公开密钥进行数字签名，并将结果返回给服务端保存。</li><li>在发起链接时，客户端会先发起请求打通链路。</li><li>服务端回应请求，并返回第二步中已被签名的公开密钥证书。</li><li>客户端向CA认证证书有效性，通过后将使用其公开密钥进行加密通信。</li><li>接着，双方采用RSA加密方式协商完成DES加密所需的密钥值。</li><li>然后SSL链接建立完成，之后的通信将采用DES加密完成。</li><li><img src="%E5%9B%BE%E8%A7%A3HTTP-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9AHTTPS%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%8F%8AHTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%89%A9%E5%B1%95.resources/C68EAC9A-A0B4-4E0A-87BE-54A07B809CB9.png" height="286" width="434"></li></ul></li><li>SSL协议分析：</li><li style="list-style: none; display: inline"><ul><li>由于RSA加密代价较高，因此只在协商DES加密所需的密钥时使用。之后为了加快效率，将使用协商后的DES加密来通信。</li><li>完全可信的CA机构，及其内嵌至浏览器内的公开密钥证书，是整个SSL加密可靠性和安全性的最终保障。一旦CA的私有密钥被攻破，那么服务端的公开密钥将随时可被伪造，整个SSL加密的可靠性也将完全丧失。</li><li><img src="%E5%9B%BE%E8%A7%A3HTTP-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9AHTTPS%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%8F%8AHTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%89%A9%E5%B1%95.resources/BE31DBF4-740E-4B96-B868-E05B0BC6142A.png" height="219" width="411"></li></ul></li><li>HTTP使用的认证方式：</li><li style="list-style: none; display: inline"><ul><li>Basic认证方式：明文密码传输方式，已无人使用。</li><li>Digest认证方式：密码散列后传输，已无人使用。</li><li>SSL客户端认证：确保通信链路的可靠性，但却无法认证用户的可靠性，</li><li>基于表单的认证：输入账号密码，可以识别用户的可靠性。配合SSL认证使用后，可以确保有效的用户安全的使用链接。</li></ul></li><li>基于HTTP的追加功能/协议：<br></li><li style="list-style: none; display: inline"><ul><li>Ajax技术方案：</li><li style="list-style: none; display: inline"><ul><li>采用XMLHttpRequest的API，利用JS就能和服务端进行HTTP通信。其可以在已完成请求的web网页上发起局部请求。</li></ul></li><li>SPDY协议：</li><li style="list-style: none; display: inline"><ul><li><img src="%E5%9B%BE%E8%A7%A3HTTP-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9AHTTPS%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%8F%8AHTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%89%A9%E5%B1%95.resources/30F874D0-EEBC-40B3-8D30-9D6E5176E8F7.png" height="228" width="276"></li><li>实现的扩展功能：</li><li style="list-style: none; display: inline"><ul><li>多路复用流功能，通过单一的TCP链接可以同时发起多条HTTP请求，TCP处理效率得到提升。</li><li>可以针对每个请求赋予优先处理优先级，避免由于带宽限制导致的响应变慢问题。</li><li>压缩HTTP首部字段</li><li>推送功能，服务器可以主动推送通知给客户端，客户端也能合法的接受这类通知。</li><li>服务器提示功能。</li></ul></li><li>实现的原理：其在原始的HTTP通信上，再附加了一层会话层，使HTTP协议从无状态变成了有状态协议。但<b>它没有变更HTTP协议本身</b>。</li><li>优先：其可以有效的消除HTTP在性能上的瓶颈。且原始的web内容端无需做改变，只是web服务器和浏览器需要针对此协议做额外的适配。一旦适配完成，就可以提供额外的API以供使用。</li></ul></li><li>WebSocket协议：客户端和服务端全双工通信协议。</li><li style="list-style: none; display: inline"><ul><li>其是<b>独立的标准协议，但是其需要基于HTTP才能实现。</b></li><li>优点：可以实现双向通信，且数据量少（因为首部字段减少）。</li><li>实现原理：</li><li style="list-style: none; display: inline"><ul><li>需要借由HTTP首部的Upgrade字段升级协议。</li><li>需要一次HTTP交互切换协议。</li><li><img src="%E5%9B%BE%E8%A7%A3HTTP-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9AHTTPS%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%8F%8AHTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%89%A9%E5%B1%95.resources/14BD7596-FD04-440A-B802-8A3AA98F89B5.png" height="314" width="418"></li><li>其在JS中提供原生支持API。</li></ul></li></ul></li><li>HTTP2.0技术：目前已经出台，但是未大面积普及。其结合了多方协议来决定最终效果，参考协议如下：</li><li style="list-style: none; display: inline"><ul><li><img src="%E5%9B%BE%E8%A7%A3HTTP-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9AHTTPS%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E5%8F%8AHTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%89%A9%E5%B1%95.resources/2FDDC797-57B8-4F0C-91CA-2E1EDF5633F9.png" height="212" width="415"></li></ul></li></ul></li></ul></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/JSON深入解析/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/JSON深入解析/" itemprop="url">
                  JSON深入解析
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:35:46+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/通用编程基础/" itemprop="url" rel="index">
                    <span itemprop="name">通用编程基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/JSON深入解析/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/JSON深入解析/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="author" content="673302055@163.com"><meta name="created" content="2015-10-26 09:58:28 +0000"><meta name="updated" content="2016-08-18 08:10:57 +0000"><title>JSON深入解析</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
<div><b>JSON的基本结构</b>：</div>
<ul>
<li>JSON的根类型要么是数组（以中括号开始【】），要么是对象（以花括号开始{}）。</li>
<li>JSON的数组内，一定全部都是对象。需要以花括号包围。同时，数组内对象的具体格式可以不同，均可解析为合法的json对象。</li>
<li>除了最外层的对象没有名字，其他任何的JSON结构都有名字。</li>
<li>在一个作用域范围内，（作用域是指 数组 或 对象）除去最后一个元素外，每一个元素都需要在最后加上 逗号‘，’分隔。</li>
</ul>
<div><br></div>
<div><b>IOS上的JSON解析</b>：</div>
<ul>
<li>The top level object is an NSArray or NSDictionary.</li>
<li>All objects are instances of <b>NSString, NSNumber, NSArray, NSDictionary, or NSNull</b>.(和<b>标准JSON相比，我们不接受boolean值，其会被转化为NSNumber使用</b>)</li>
<li>All dictionary keys are instances of NSString.</li>
<li>Numbers are not NaN or infinity.</li>
</ul>
<div><br></div>
<div><b>使用方法</b>：</div>
<ul>
<li>生成JSON串：</li>
</ul>
<div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">    NSMutableDictionary</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">*dictionary = [[</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSMutableDictionary</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">alloc</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">]</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">init</span><span style="font-family: Monaco;">];</span></div>
<div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">    [dictionary</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">setValue</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"Anthony"</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">forKey</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"First Name"</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">];<br>
    [dictionary</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">setValue</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"Robbins"</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">forKey</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"Last Name"</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-variant-ligatures: no-common-ligatures;"><span style="font-family: Monaco;">];</span></span></div>
<div><span style="font-family: Monaco;">    [dictionary</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">setValue</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:[</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSNumber</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">numberWithUnsignedInteger</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">51</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">]</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">forKey</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"Age"</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-variant-ligatures: no-common-ligatures;">];</span></div>
<div><span style="font-family: Monaco;">   </span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSArray</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">*arrayOfAnthonysChildren = [[</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSArray</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">alloc</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">]</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">initWithObjects</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"Anthony's Son 1"</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">,</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"Anthony's Daughter 1"</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">,</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"Anthony's Son 2"</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">,</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"Anthony's Son 3"</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">,</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"Anthony's Daughter 2"</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">,</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">nil</span><span style="font-family: Monaco;">];</span></div>
<div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">    [dictionary</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">setValue</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:arrayOfAnthonysChildren</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">forKey</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"children"</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">];<br>
   </span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSError</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">*error =</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">nil</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-variant-ligatures: no-common-ligatures;"><span style="font-family: Monaco;">;</span></span></div>
<div><span style="font-family: Monaco;">    <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSData</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">*jsonData = [</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSJSONSerialization</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">dataWithJSONObject</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:dictionary</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">options</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSJSONWritingPrettyPrinted</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">error</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:&amp;error];</span></span></div>
<div><span style="font-family: Monaco;">   </span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSString</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">* str = [[</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSString</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">alloc</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">]</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">initWithData</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:jsonData</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">encoding</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSUTF8StringEncoding</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">];</span></div>
<ul>
<li><span style="font-family: Monaco;">解析JSON串:</span></li>
</ul>
<div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">     NSString</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">*dataFilePath = [[</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSBundle</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">mainBundle</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">]</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">pathForResource</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"data"</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">          </span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">ofType</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">@"json"</span><span style="font-family: Monaco;">];</span></div>
<div><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">   </span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSData</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">*data = [</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSData</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">dataWithContentsOfFile</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-variant-ligatures: no-common-ligatures;"><span style="font-family: Monaco;">:dataFilePath];</span></span></div>
<div><span style="font-family: Monaco;">    <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSDictionary</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">*rootDict = [</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSJSONSerialization</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">JSONObjectWithData</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:data</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">options</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">NSJSONReadingAllowFragments</span> <span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">error</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">:</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">nil</span><span style="font-style: normal; font-variant-caps: normal; font-weight: normal; font-size: 14px; font-family: Monaco; font-variant-ligatures: no-common-ligatures;">];</span></span></div>
<div><br></div>
<div><b>iOS JSON对象与原生对象的转化类型</b>：</div>
<table style="border-collapse: collapse; margin-left: 0px;table-layout:fixed;width:35.35483870967742%;">
<tr>
<td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:48.175182481751825%;">
<div style="text-align: center"><b>JSON对象</b></div>
</td>
<td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:51.45985401459854%;">
<div style="text-align: center"><b>原生对象</b></div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">“asdas”</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">NSString</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">{ .. }</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">NSDictionary</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">[ ... ]</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">NSArray</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">18 或者 18.9</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">NSNumber</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">true / false</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">NSNumber</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">null</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">NSNull</div>
</td>
</tr>
</table>
<div><br></div>
<div><br></div>
<div><b>python中JSON对象与原生对象的转化类型</b>：</div>
<table style="border-collapse: collapse; margin-left: 0px;table-layout:fixed;width:35.35483870967742%;">
<tr>
<td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:48.175182481751825%;">
<div style="text-align: center"><b>JSON对象</b></div>
</td>
<td style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:51.45985401459854%;">
<div style="text-align: center"><b>原生对象</b></div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">“asdas”</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">unicode(basestring的一个子类)</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">{ .. }</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">dict</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">[ ... ]</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">list</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">18</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">int</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">18.9</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">float</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">true / false</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">bool</div>
</td>
</tr>
<tr>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">null</div>
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:50%;">
<div style="text-align: center">NoneType</div>
</td>
</tr>
</table>
<div><br></div>
<div><br></div>
<div><b>参考文章</b>：</div>
<ul>
<li>JSON使用可以参照《ios网络高级编程》P83</li>
<li>可以参考官方API文档</li>
</ul>
</body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/字符编码知识/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/字符编码知识/" itemprop="url">
                  字符编码知识
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:35:46+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/通用编程基础/" itemprop="url" rel="index">
                    <span itemprop="name">通用编程基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/字符编码知识/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/字符编码知识/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="altitude" content="17.21430969238281"><meta name="author" content="程剑锋"><meta name="created" content="2016-05-10 09:27:54 +0000"><meta name="latitude" content="31.22303992899544"><meta name="longitude" content="121.3562970164752"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-07-29 02:22:52 +0000"><title>字符编码知识</title></head><body><div><b>基础概念</b>：</div><ul><li>字符集：表示一系列自然语言的符号的集合以及其编号。比如 ASCII码字符集，Unicoe字符集等。</li><li style="list-style: none; display: inline"><ul><li><b>字符集可以决定一个字符的编码值</b>。且编码值仅能由字符集决定。</li></ul></li><li>字符编码方式：将一个字符集具体编码成为二进制表示的编码方式。比如 UTF-8（UTF-8是Unicode字符集的编码实现方式），UTF-16以及原始的ASCII编码等。</li><li style="list-style: none; display: inline"><ul><li><b>编码方式可以决定 具体编码值的存储方式</b>，比如定长存储还是变长存储，边界如何区分等。</li></ul></li><li>字符编码顺序：由于一个字符可能由多个二进制字节表示，而二进制的存储单位是以8位为一个字节存储单元的。（在字节存储单元内部，顺序固定从从左至右）而字节之间的顺序是不一定的。因此，诞生了大端模式 和 小端模式：（以“严”字 unicode编码“4E25”为例）</li><li style="list-style: none; display: inline"><ul><li>大端模式：前者在左，后者在右。最终编码为 4E25 。符合中国人阅读顺序。</li><li>小端模式：后者在左，前者在右。最终编码为 254E 。</li></ul></li></ul><div><br></div><div><b>参考文章</b>：</div><ul><li>字符编码笔记：<a href="http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html" target="_blank" rel="external">http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html</a></li></ul></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/结构体内存对齐问题/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/结构体内存对齐问题/" itemprop="url">
                  结构体内存对齐问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:35:46+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/通用编程基础/" itemprop="url" rel="index">
                    <span itemprop="name">通用编程基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/结构体内存对齐问题/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/结构体内存对齐问题/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="altitude" content="15.9843578338623"><meta name="author" content="程剑锋"><meta name="created" content="2016-12-04 07:50:25 +0000"><meta name="latitude" content="31.21660873206764"><meta name="longitude" content="121.302303062125"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-12-04 07:55:55 +0000"><title>结构体内存对齐问题</title></head><body><div>一个结构体，如果要求内存对齐，那么需要满足以下要求：</div><div><ol><li>结构体占用的总内存占用大小是其下最大的内存占用成员变量的整数倍。</li><li>结构体中，每个成员变量的首地址必须符合如下要求：首地址 % sizeof(类型) = 0，如果紧接着的地址不能符合此要求，那么必须空出这个地址，直到找到下一个合适的地址为止。</li></ol></div><div><br></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/微信小程序官方分享笔记/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/微信小程序官方分享笔记/" itemprop="url">
                  微信小程序官方分享笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:33:43+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">前端学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/微信小程序官方分享笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/微信小程序官方分享笔记/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="altitude" content="16.46040725708008"><meta name="author" content="程剑锋"><meta name="created" content="2016-12-24 08:35:55 +0000"><meta name="latitude" content="31.21644633460713"><meta name="longitude" content="121.3023165779461"><meta name="source" content="desktop.mac"><meta name="updated" content="2017-01-05 11:47:43 +0000"><title>微信小程序官方分享笔记</title></head><body><div><b>产品方面：</b></div><div><b></b></div><div><b></b></div><div><b></b></div><div><ul><li>微信类产品比较适合做的事【自己总结】：微信由于其高频操作性，所以更适合和线下活动、人群之间形成互动。比如，演唱会时投票，如果再加入游戏以及竞争环节，可以有效的增加趣味性。比如摇一摇投票，摇的越多，票得的越多。</li><li>微信开发类<b>产品路线</b>：</li></ul><br><ul><li><b>接入流程</b>：</li></ul></div><div><br></div><div><ul><li>小程序的<b>产品特点</b>：</li><ul><li>Native与H5结合【view界面渲染依旧使用webview完成,基于HTML5完成；逻辑层提供Native的接口，也支持原生view展示，但原生view是直接盖在webView上面的】</li><li>随用随走，随手可得【小龙哥的总结】</li><li>拥有离线能力</li><li>一次开发，多端兼容</li><li>优秀的操作体验</li><li>相比于网页增加以下核心功能：用户信息、微信支付、模板消息、网络通信、本地存储【支持离线能力】</li></ul><li>小程序<b>审核原则</b>：</li><ul><li>真实性：提供的材料和信息真实有效</li><li>一致性：信息逐一对应</li><li>稳定性：服务稳定、可靠</li><li>合法性：功能、内容合法合规</li></ul></ul></div><div><br></div><div><br></div><div><b>程序架构</b>：</div><div><ul><li><b>开发特点</b>：Web-like开发方式、App-like用户体验、Hybrid混合应用</li><li>小程序客户端<b>架构塔</b>：</li><ul><li>WXML/WXSS【最终转化为JS】:页面视图层，微信提供的一套描述视图层的语言。</li><li>AppService：应用逻辑层，实现交互和业务逻辑处理，生命周期管理。</li><li>JSBridge：丰富的API，调用微信客户端提供的各种基础功能。</li><li>Native System：封装原生系统的能力，对上提供支持。</li></ul><li>程序<b>模块交互图</b>：</li><ul><li>从图中可以看到，View和App Service其实都是webView上执行的JS代码，JSBridge后面才是原生的代码。</li><li>网络请求是采用原生的方式进行的。因此也需要适配Apple ATS。</li><li>这其实可以看出来，是一个典型的MVC架构。</li><li>界面展示中，有一部分是原生的页面。</li></ul></ul><br></div><div><ul><ul><li>下面这张图是与原生之间的交互和渲染，但描述不如上面这张图逻辑清晰。这里可以看到webview与native有直接的交互，这主要是一些原生组件的使用。其实，webview与App Service之间有更多的数据交互，但在图中没有体现。<br></li></ul></ul></div><div>【描述不清晰】<br></div><div><ul><ul><li>其中的Virtual DOM指的就是一些原生组件的展示，需要通过与Native交互实现。</li></ul></ul><br><ul><li>View层简介：</li><ul><li>预先加载了一个webview，这里预先的意思是，页面内的所有内容都被提前加载了，比如图片、数据、执行的JS等。【这其中的一部分数据甚至可以缓存在本地，以提供离线能力和提升下次打开的速度】</li><li>当实际打开页面时，无需请求额外资源，直接渲染。</li></ul><li>App Service层 即Manager的简介：</li><ul><li>App()：小程序的入口</li><li>Page()：页面入口</li><li>负责完成：</li><ul><li>数据绑定、事件分发</li></ul></ul></ul><br><ul><ul><ul><li>生命周期：</li><ul><li>仔细看这个生命周期图，关键的函数回调时机在上面都已经有了。</li><li>每次用户事件的回调都会触发Re-Render【后面会讲如何优化渲染性能】</li></ul></ul></ul></ul><br><ul><ul><ul><li>路由管理</li><ul><li>页面跳转：tab和Nav</li><li>首页拥有tab，每个tab的页面拥有nav</li><li>nav最多只能有5层页面栈，达到5层后再push页面，需要使用redirectTo方法跳转。【可以读取到当前nav内有多少层页面<span style="font: 13.0px 'Helvetica Neue'">getCurrentPages</span>，然后执行跳转】</li></ul></ul></ul></ul><br><ul><li>WXML语言介绍：</li><ul><li>需要注意的是，<b>WXML在服务端会被转化为JS</b>，然后JS下发到微信客户端，然后执行JS生成Virtual Tree，最后转化为DOM Tree。</li><li>使用开发工具的 <b>wcc命令</b>可以将 xx.wxml 转化为 xx.js 文件。比如：wcc -d test.wxml &gt; ~/Desktop/test.js</li><ul><li>wcc命令以及生成的wxml文件在 devTool的包文件里，显示包内容展示即可。</li></ul></ul></ul><br></div><div><ul><li>WXSS语言介绍：</li><ul><li>级联的定义：css级联为每个样式规则指派权重，若元素应用了多个样式规则，那么将优先使用权重最高的的样式。</li><li>需要注意的是，WXSS在服务端被转化为JS，然后在微信客户端，执行这段JS，生成相应的样式并应用。</li></ul></ul><br></div><div><ul><li>View中的基本组件：</li><ul><li>输入框【input】、checkbox【复选框】、radio【单选框】、switch【开关按钮】、scroll-view、canvas、map【地图，原生】、video、audio</li></ul></ul><br></div><div><ul><li>整个小程序从上传到下发进过的流程：</li><ul><li>需要注意的是，所谓的WXML和WXSS只是仿照HTML和CSS的写法，在实现时是转化为JS的，然后在客户端执行这些JS，生成相应的页面。</li></ul></ul><br></div><div><ul><li>视图层【view】和逻辑层【App Service】分离的原因：</li><ul><li>主要是为了简单、高效、安全【避免远程代码执行】</li><li>这也意味着两者处于两个线程上面。即逻辑层运行在独立的环境中，无法直接操作DOM。</li></ul><li>视图层渲染机制与优化机制：</li><ul><li>渲染本质：使用JS将Virtual Tree转化为对应的DOM Tree，然后再开始渲染。</li><li>Re-Render优化：对比新Tree和旧Tree的不同，然后将这些不同的点应用到DOM Tree中。</li></ul></ul></div><div><ul><ul><li>对比Tree的辅助工作：需要我们自己为可以动态改变的节点加上标志</li><ul><li>动态改变的节点需要加上wx:key来做节点的唯一标识</li><li>wx:if,wx:for,template 增加一个&lt;virtual/&gt;的节点</li></ul></ul></ul></div><div><ul><ul><li>具体的对比流程：以层为单位，同层对比的方式，向下对比推进。</li></ul></ul></div><div><br></div><div><ul><li>Native Component【原生组件】简介：</li><ul><li>Native层凌驾于webView层之上</li><li>无法检测在scroll-view中的滚动</li><li>原生组件示例：&lt;canvas/&gt;、&lt;map/&gt;、&lt;video/&gt;、&lt;textarea/&gt;</li></ul><li>小程序<b>目前的缺点</b>：</li><ul><li>支持ES6语法解析，但是不支持ES6函数。</li><li>无法直接引入node module，但可以使用以下替代方案：</li><ul><li>直接将node module中的文件引入</li><li>使用构造XXX【看不懂】</li></ul><li>服务端返回的头无法理解，如set-cookie【需要我们自己在Data中加上session_id】</li><li>需要HTTPS，TLS需要支持到1.2。【这与苹果强制要求ATS有关，因为所有请求本质上不是通过webview发起的，而是通过微信的网络模块完成】</li><li>在app.json中声明的页面，需要有相应的Page()函数进行注册</li><li>在CSS中无法使用本地资源，如图片、字体等</li></ul><li>小程序目前的JS执行环境：</li><ul><li>iOS - JSCore，由于每个系统版本的JSCore都有细微的差别，因此需要自己注意适配问题。</li><li>Android - X5 JS解析器，微信内置。所有安卓行为都一致，但是性能上有点问题。</li><li>DevTool - nwjs【chrome内核】，性能很好，行为一致。但要注意与真机上的行为可能产生差异。</li></ul><li>关于微信方面提供的<b>用户标识</b>：</li><ul><li>其中的Developer指的是一个小程序认证账号。一个账号下面可以开发多个小程序。</li><li>AppID - 小程序ID</li><li>OpenID - 用户相对于小程序的标识</li><li>UnionID - 用户相对于小程序开发账号的标识</li></ul></ul><div><br></div></div><div><ul><ul><li>获取用户信息：</li><ul><li>注意验证数据安全以及不要把敏感信息传回小程序。</li></ul></ul></ul><div><br></div></div><div><ul><li>微信推荐的登录认证流程：</li></ul></div><div><br></div><div><br></div><div><br></div><div><br></div><div><b>开发指南</b>：</div><div><ul><li>页面设计推荐方案：</li><ul><li>依托业务线划分页面</li><ul><li>文件夹名即路由</li><li>app.json清晰明了</li></ul><li>抽离模板，构建模板库</li><ul><li>易于后期维护</li><li>模板的更新和替换</li><li>提高代码的复用性</li></ul></ul></ul><div><br></div><div><br></div><ul><li>关于网络层的开发优化：</li><ul><li>以Storage来存储，每次请求时将存储信息设置到请求头的cookies字段中，来模拟cookie。</li><li>用队列的方式来保存请求，限制并行请求的数量。【因为微信限制最多同时发起10条请求】</li><li>使用cache字段来缓存相同参数的结果</li></ul></ul><br><ul><li>艺龙的小程序优化点：</li></ul><br></div><div><ul><li>注入IDE【不建议】：</li></ul><br></div><div><br></div><div><br></div><div><br></div><div><br></div>
<hr>Conflicting modification on 2017年1月5日 19:47:43:<hr><div><b>产品方面：</b></div><div><b></b></div><div><b></b></div><div><b></b></div><div><ul><li>微信类产品比较适合做的事【自己总结】：微信由于其高频操作性，所以更适合和线下活动、人群之间形成互动。比如，演唱会时投票，如果再加入游戏以及竞争环节，可以有效的增加趣味性。比如摇一摇投票，摇的越多，票得的越多。</li><li>微信开发类<b>产品路线</b>：</li></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/DB57407D-9857-4BC6-9077-84C0D9680A5E.png" height="960" width="1280"><br><ul><li><b>接入流程</b>：</li></ul></div><div><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/AC813449-6299-4342-8BD3-7FD9A5C29E62.png" height="600" width="800"><br></div><div><ul><li>小程序的<b>产品特点</b>：</li><ul><li>Native与H5结合【view界面渲染依旧使用webview完成,基于HTML5完成；逻辑层提供Native的接口，也支持原生view展示，但原生view是直接盖在webView上面的】</li><li>随用随走，随手可得【小龙哥的总结】</li><li>拥有离线能力</li><li>一次开发，多端兼容</li><li>优秀的操作体验</li><li>相比于网页增加以下核心功能：用户信息、微信支付、模板消息、网络通信、本地存储【支持离线能力】</li></ul><li>小程序<b>审核原则</b>：</li><ul><li>真实性：提供的材料和信息真实有效</li><li>一致性：信息逐一对应</li><li>稳定性：服务稳定、可靠</li><li>合法性：功能、内容合法合规</li></ul></ul></div><div><br></div><div><br></div><div><b>程序架构</b>：</div><div><ul><li><b>开发特点</b>：Web-like开发方式、App-like用户体验、Hybrid混合应用</li><li>小程序客户端<b>架构塔</b>：</li><ul><li>WXML/WXSS【最终转化为JS】:页面视图层，微信提供的一套描述视图层的语言。</li><li>AppService：应用逻辑层，实现交互和业务逻辑处理，生命周期管理。</li><li>JSBridge：丰富的API，调用微信客户端提供的各种基础功能。</li><li>Native System：封装原生系统的能力，对上提供支持。</li></ul><li>程序<b>模块交互图</b>：</li><ul><li>从图中可以看到，View和App Service其实都是webView上执行的JS代码，JSBridge后面才是原生的代码。</li><li>网络请求是采用原生的方式进行的。因此也需要适配Apple ATS。</li><li>这其实可以看出来，是一个典型的MVC架构。</li><li>界面展示中，有一部分是原生的页面。</li></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/1EEB4B52-E145-4ECE-84BC-A1347B6D86A1.png" height="960" width="1280"><br></div><div><ul><ul><li>下面这张图是与原生之间的交互和渲染，但描述不如上面这张图逻辑清晰。这里可以看到webview与native有直接的交互，这主要是一些原生组件的使用。其实，webview与App Service之间有更多的数据交互，但在图中没有体现。<br></li></ul></ul></div><div><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/IMG_3067.JPG" height="331" width="596">【描述不清晰】<br></div><div><ul><ul><li>其中的Virtual DOM指的就是一些原生组件的展示，需要通过与Native交互实现。</li></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/IMG_3070.JPG" height="960" width="1280"><br><ul><li>View层简介：</li><ul><li>预先加载了一个webview，这里预先的意思是，页面内的所有内容都被提前加载了，比如图片、数据、执行的JS等。【这其中的一部分数据甚至可以缓存在本地，以提供离线能力和提升下次打开的速度】</li><li>当实际打开页面时，无需请求额外资源，直接渲染。</li></ul><li>App Service层 即Manager的简介：</li><ul><li>App()：小程序的入口</li><li>Page()：页面入口</li><li>负责完成：</li><ul><li>数据绑定、事件分发</li></ul></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/3D10073B-DA3B-41E5-9C8C-1E4AEF560E6D.png" height="720" width="1280"><br><ul><ul><ul><li>生命周期：</li><ul><li>仔细看这个生命周期图，关键的函数回调时机在上面都已经有了。</li><li>每次用户事件的回调都会触发Re-Render【后面会讲如何优化渲染性能】</li></ul></ul></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/B431F276-B29C-4BB7-B25B-AF063D144099.png" height="439" width="720"><br><ul><ul><ul><li>路由管理</li><ul><li>页面跳转：tab和Nav</li><li>首页拥有tab，每个tab的页面拥有nav</li><li>nav最多只能有5层页面栈，达到5层后再push页面，需要使用redirectTo方法跳转。【可以读取到当前nav内有多少层页面<span style="font: 13.0px 'Helvetica Neue'">getCurrentPages</span>，然后执行跳转】</li></ul></ul></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/1705BEBA-4D86-4090-9E17-82594A043E27.png" height="720" width="1280"><br><ul><li>WXML语言介绍：</li><ul><li>需要注意的是，<b>WXML在服务端会被转化为JS</b>，然后JS下发到微信客户端，然后执行JS生成Virtual Tree，最后转化为DOM Tree。</li><li>使用开发工具的 <b>wcc命令</b>可以将 xx.wxml 转化为 xx.js 文件。比如：wcc -d test.wxml &gt; ~/Desktop/test.js</li><ul><li>wcc命令以及生成的wxml文件在 devTool的包文件里，显示包内容展示即可。</li></ul></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/IMG_3064.JPG" height="960" width="1280"><br></div><div><ul><li>WXSS语言介绍：</li><ul><li>级联的定义：css级联为每个样式规则指派权重，若元素应用了多个样式规则，那么将优先使用权重最高的的样式。</li><li>需要注意的是，WXSS在服务端被转化为JS，然后在微信客户端，执行这段JS，生成相应的样式并应用。</li></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/IMG_3065.JPG" height="720" width="1280"><br></div><div><ul><li>View中的基本组件：</li><ul><li>输入框【input】、checkbox【复选框】、radio【单选框】、switch【开关按钮】、scroll-view、canvas、map【地图，原生】、video、audio</li></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/98EF35D1-59E4-47E8-B42D-A3848D77733D.png" height="720" width="1280"><br></div><div><ul><li>整个小程序从上传到下发进过的流程：</li><ul><li>需要注意的是，所谓的WXML和WXSS只是仿照HTML和CSS的写法，在实现时是转化为JS的，然后在客户端执行这些JS，生成相应的页面。</li></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/IMG_3068.JPG" height="960" width="1280"><br></div><div><ul><li>视图层【view】和逻辑层【App Service】分离的原因：</li><ul><li>主要是为了简单、高效、安全【避免远程代码执行】</li><li>这也意味着两者处于两个线程上面。即逻辑层运行在独立的环境中，无法直接操作DOM。</li></ul><li>视图层渲染机制与优化机制：</li><ul><li>渲染本质：使用JS将Virtual Tree转化为对应的DOM Tree，然后再开始渲染。</li><li>Re-Render优化：对比新Tree和旧Tree的不同，然后将这些不同的点应用到DOM Tree中。</li></ul></ul></div><div><ul><ul><li>对比Tree的辅助工作：需要我们自己为可以动态改变的节点加上标志</li><ul><li>动态改变的节点需要加上wx:key来做节点的唯一标识</li><li>wx:if,wx:for,template 增加一个&lt;virtual/&gt;的节点</li></ul></ul></ul></div><div><ul><ul><li>具体的对比流程：以层为单位，同层对比的方式，向下对比推进。</li></ul></ul></div><div><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/44924CB4-8BDC-4708-A4E1-14785882E5B6.png" height="960" width="1280"><br></div><div><ul><li>Native Component【原生组件】简介：</li><ul><li>Native层凌驾于webView层之上</li><li>无法检测在scroll-view中的滚动</li><li>原生组件示例：&lt;canvas/&gt;、&lt;map/&gt;、&lt;video/&gt;、&lt;textarea/&gt;</li></ul><li>小程序<b>目前的缺点</b>：</li><ul><li>支持ES6语法解析，但是不支持ES6函数。</li><li>无法直接引入node module，但可以使用以下替代方案：</li><ul><li>直接将node module中的文件引入</li><li>使用构造XXX【看不懂】</li></ul><li>服务端返回的头无法理解，如set-cookie【需要我们自己在Data中加上session_id】</li><li>需要HTTPS，TLS需要支持到1.2。【这与苹果强制要求ATS有关，因为所有请求本质上不是通过webview发起的，而是通过微信的网络模块完成】</li><li>在app.json中声明的页面，需要有相应的Page()函数进行注册</li><li>在CSS中无法使用本地资源，如图片、字体等</li></ul><li>小程序目前的JS执行环境：</li><ul><li>iOS - JSCore，由于每个系统版本的JSCore都有细微的差别，因此需要自己注意适配问题。</li><li>Android - X5 JS解析器，微信内置。所有安卓行为都一致，但是性能上有点问题。</li><li>DevTool - nwjs【chrome内核】，性能很好，行为一致。但要注意与真机上的行为可能产生差异。</li></ul><li>关于微信方面提供的<b>用户标识</b>：</li><ul><li>其中的Developer指的是一个小程序认证账号。一个账号下面可以开发多个小程序。</li><li>AppID - 小程序ID</li><li>OpenID - 用户相对于小程序的标识</li><li>UnionID - 用户相对于小程序开发账号的标识</li></ul></ul><div><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/0539298E-B9C3-46C0-9F82-2B04B11089A8.png" height="340" width="1047"><br></div></div><div><ul><ul><li>获取用户信息：</li><ul><li>注意验证数据安全以及不要把敏感信息传回小程序。</li></ul></ul></ul><div><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/IMG_3082.JPG" height="682" width="1118"><br></div></div><div><ul><li>微信推荐的登录认证流程：</li></ul></div><div><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/24602F3B-98AE-4E9F-A4AA-4057760F7429.png" height="634" width="1135"><br></div><div><br></div><div><br></div><div><br></div><div><b>开发指南</b>：</div><div><ul><li>页面设计推荐方案：</li><ul><li>依托业务线划分页面</li><ul><li>文件夹名即路由</li><li>app.json清晰明了</li></ul><li>抽离模板，构建模板库</li><ul><li>易于后期维护</li><li>模板的更新和替换</li><li>提高代码的复用性</li></ul></ul></ul><div><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/A1CABE46-5DDD-4DE1-9970-426393866DE3.png" height="616" width="1145"><br></div><div><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/8992DC6E-0CF2-4EF2-980C-2647A5FC26B9.png" height="519" width="751"><br></div><ul><li>关于网络层的开发优化：</li><ul><li>以Storage来存储，每次请求时将存储信息设置到请求头的cookies字段中，来模拟cookie。</li><li>用队列的方式来保存请求，限制并行请求的数量。【因为微信限制最多同时发起10条请求】</li><li>使用cache字段来缓存相同参数的结果</li></ul></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/C4BD70D8-88B0-4D85-B061-53F80C0F957A.png" height="646" width="1137"><br><ul><li>艺龙的小程序优化点：</li></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/F210066E-1C81-4CBB-9A7A-19A23E67C476.png" height="901" width="2227"><br></div><div><ul><li>注入IDE【不建议】：</li></ul><img src="%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%98%E6%96%B9%E5%88%86%E4%BA%AB%E7%AC%94%E8%AE%B0.resources/131B6B9A-674B-4379-9C50-3C46D6BCAD59.png" height="2984" width="6002"><br></div><div><br></div><div><br></div><div><br></div><div><br></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/Head First:HTML与CSS读书笔记/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/Head First:HTML与CSS读书笔记/" itemprop="url">
                  Head First:HTML与CSS读书笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:33:43+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">前端学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/Head First:HTML与CSS读书笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/Head First:HTML与CSS读书笔记/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="altitude" content="13.66733169555664"><meta name="author" content="程剑锋"><meta name="created" content="2016-07-11 07:44:22 +0000"><meta name="latitude" content="31.223127046307"><meta name="longitude" content="121.3563658812918"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-12-24 16:09:23 +0000"><title>Head First:HTML与CSS读书笔记</title></head><body><div><b>注意：本文所有的样式展示均采用 chrome mac 2016/07 最新版编写。</b></div><div><b><br></b></div><div><b>HTML部分</b>：</div><ul>
<li>功能定义：负责描述网页的结构。</li>
<li>元素分类：

</li><ul>
<li>内联：

</li><ul>
<li>内联元素：不会再元素的周围插入换行。比如&lt;img&gt;、&lt;quote&gt;等</li>
<li>块元素：会在元素的两边插入换行</li>
</ul>
<li>内容：

</li><ul>
<li>空元素：元素只有单个&lt;&gt;，不需要内容。比如：&lt;br&gt;、&lt;img&gt;</li>
<li>普通元素：元素有一对&lt;&gt;，需要添加内容，否则没有意义。</li>
</ul>
</ul>
<li>img是一个内联元素，且是一个空元素。</li>
<li>浏览器加载图像的规则是：先加载HTML网页，然后再加载图像。因此，可能会引起页面跳跃。建议提前设置图像的width 和height，提供结构信息。</li>
<li>HTML中过多的空白符会被简化为一个空格，换行必须使用&lt;br&gt;来完成。</li>
<li><b>HTML4.0语法规范：</b>

</li><ul>
<li>&lt;head&gt;元素是放置&lt;title&gt;、&lt;meta&gt;和&lt;style&gt;元素唯一合法的地方。</li>
<li>只能在&lt;body&gt;元素下直接放置块元素，所有内联元素和文本都必须包含在块元素中。</li>
<li>块元素禁止包含在&lt;p&gt;元素中</li>
<li>列表&lt;ul&gt;和&lt;ol&gt;中只允许直接放置&lt;li&gt;元素，其他元素不允许直接放置。

</li><ul>
<li>ul使用 如下样式展示：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/E8632F90-CC73-4979-B4F2-1608CC5FAAA2.png" height="148" width="122"><br></li>
<li>ol 使用如下样式展示：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/BAB17DC9-843B-481B-BCDC-DFB682BC3EDA.png" height="132" width="88"><br></li>
</ul>
<li>&lt;blockquote&gt;中应该先加入块元素，再加入文本。</li>
</ul>
<li><b>XHMTL是一种格式规范</b>。它采用xml的格式编写，使HTML更加规范化，且易于扩展。

</li><ul>
<li>格式规范要求：

</li><ul>
<li>把DOCTYPE改为XHTML。</li>
<li>在&lt;html&gt;标签中添加 xlmns、lang和 xml:lang 属性。示例：&lt;html xmlns=“http://www.w3.org/1999/xhtml” lang=“en” xml:lang=“en”&gt;.</li>
<li>确保&lt;html&gt;是DOCTYPE后第一个标记，且&lt;/html&gt;是最后一个标记。</li>
<li>所有的元素名称必须使用小写字母表示。</li>
<li>所有开始标记都必须有对应的结束标记。<b>如果是空元素，那么它的标记必须以空格结尾，后跟/&gt;</b>.</li>
<li>所有属性的值必须非空，且带有双引号。</li>
</ul>
<li>优点：

</li><ul>
<li>严格规范的语法方便浏览器解析，以及不同浏览器取得统一的行为。</li>
<li>可以扩展新标记</li>
<li>只要能读取XML的程序，都可以直接解析HTML。</li>
<li>对移动设备的支持更好</li>
</ul>
</ul>
<li><b>高级布局部分</b>：

</li><ul>
<li>div元素：用于将多个块元素进行进行逻辑划分。</li>
<li>span：给内联元素的内容划分区域。

</li><ul>
<li>可以使用CSS盒模式编程。但是边界的话，只有左右两侧是有效的，而上下两侧是无效的。补白也是左右有效，上下侧则占用公共空间（即不影响该元素与其他元素之前的位置），会产生重叠效果。</li>
</ul>
</ul>
<li>表格元素：

</li><ul>
<li>表格的元素：

</li><ul>
<li>&lt;table&gt;：表示这是一个表格，其内有有一个 summary 属性，这个属性可以设置表格的摘要，但是摘要完全不会再网页上显示出来，只是为了使表格更加可读。</li>
<li>&lt;caption&gt;:表格的标题</li>
<li>&lt;tr&gt;:表示这是表格的一行内容</li>
<li>&lt;th&gt;:表示这是表格的头行的标题单元格</li>
<li>&lt;td&gt;:表示这是普通单元格</li>
</ul>
<li>HTML中表格采用的是<b>基于行布局</b>的模式。</li>
<li>请不要把表格和列表搞混了，后者是 &lt;ul&gt; 和 &lt;ol&gt;的内容。</li>
<li>表格的单元格的外貌设置类似于盒模式，内容区、补白、边框都一致，但是边界稍有不同。单元格的边界是不能单独设置的（即 margin 属性对于 th 或者 td 是无效的），而是整个表格统一设置一个表格间距，需要在 table 选择符的CSS 中设置该属性： <b>border-spacing：10px 30px</b> （前者为水平间距，后者为竖直间距）</li>
<li>在单元格元素中 使用rowspan 或者 colspan 添加 行合并 或者是 列合并。在有合并存在的表格中，合并表格的位置，在其设置之初就决定了，剩下的单元格只是单填充空格。</li>
<li>table不受 text-align 属性影响。</li>
</ul>
<li>列表元素：

</li><ul>
<li>列表的元素：

</li><ul>
<li>&lt;ul&gt;：无序列表</li>
<li>&lt;ol&gt;：有序列表</li>
<li>&lt;li&gt;：列表项</li>
</ul>
<li>ul默认使用 如下样式展示：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/E8632F90-CC73-4979-B4F2-1608CC5FAAA2.png" height="148" width="122"><br></li>
<li>ol 默认使用如下样式展示：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/BAB17DC9-843B-481B-BCDC-DFB682BC3EDA.png" height="132" width="88"><br></li>
<li>li 项的样式可以变的，可以在CSS中调整 list-style-type 属性：

</li><ul>
<li>disc：实心圆点</li>
<li>circle：空心圆点</li>
<li>square：方块标志</li>
<li>None：无</li>
<li>…………多的是哦，反正在 webstorm上可以自动填充</li>
</ul>
<li>也可以使用 list-style-image: url(xxxxx); 来指定自定义标识</li>
</ul>
<li>表单元素：

</li><ul>
<li>在最外围使用 &lt;form action=“xxxxx.php” method=“POST”&gt;，里面的 action 属性指明了提交的url地址，method指明了 提交的方式。</li>
<li>我们可以将任意的块元素放入表单中。</li>
<li>交互表单元素：

</li><ul>
<li>&lt;input type=“text” name=“xxxxx” maxlength=“100” /&gt;：文本输入框，name用于WEB程序提取值，可以设置输入字数限制,maxlength表示输入字符限制。</li>
<li>&lt;input type=“password” name=“xxxxx” maxlength=“100” /&gt;：密码输入框</li>
<li>&lt;input type=“submit” value=“name" /&gt;：确认按钮,value是按钮上显示的名字</li>
<li>&lt;input type=“reset” value=“name" /&gt;：重置按钮,value是按钮上显示的名字</li>
<li>&lt;input type=“radio” name=“xxxx” value=“xxx” checked=“checked” /&gt;：单选框，name相同的为同一个单选组，value可以各不相同.</li>
<li>&lt;label for=“xxxx”&gt;:使用示例如下，但一般来说，我们会直接使用文本代替。<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/C6993DFB-DA5B-4202-AA77-C167BBB168CB.png" height="336" width="1242"><br></li>
<li>&lt;input type=“checkbox” name=“xxxx” value=“xxx” /&gt;：复选框，name相同的为同一个复选组</li>
<li>&lt;textarea name=“xxx” rows=“10” cols=“10”&gt;—初始化文本—&lt;/textarea&gt;：一个<b>多行</b>文本输入区，<b>rows 和 cols告诉浏览器文本框的宽度和高度</b>，以字符作为计数标准。</li>
<li><img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/D98D2A20-82EE-4760-9BE6-1116B8EC0ADE.png" height="272" width="616">:选择列表及其选项。可以在 select中添加 multiple=“multiple”，是单选变成多选，但是不太好用，需要使用 ctrl或者command采用实现多选。</li>
<li>fieldset(控件组) 和 legend（传说） ：用来块状组合表单元素，示例如下：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/21487F8F-A227-4488-9FCA-708BA143B261.png" height="486" width="948">，效果如下：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/7A791A97-1C67-4AC7-8950-23F9C9739021.png" height="312" width="794"><br></li>
<li>&lt;input type=“file” name=“xxx”&gt;：表示选择文件，该文件给将随着请求一起发送给服务端，这意味着我们必须采用POST方式。</li>
</ul>
<li>在 &lt;input&gt;元素中 添加 checked=“checked”，表示默认选中状态。</li>
<li>布局方式：

</li><ul>
<li>采用CSS布局表单</li>
<li>采用表格布局表单</li>
<li><b>采用表格搭建表单位置框架，配合CSS调整表单外观（最佳方式）</b></li>
</ul>
</ul>
</ul><div><br></div><div><br></div><div><b>CSS部分</b>：</div><ul>
<li>功能定义：负责描述网页的样式。</li>
<li>基本语法：

</li><ul>
<li>CSS规则需要写在&lt;head&gt;标签内，使用如下格式： <img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/F38C8D76-DE5D-4658-A781-BE13A04CBF8B.png" height="182" width="490"><br></li>
<li>其中p表示的是 html的语法元素，这句话将整体的修改p元素的样式。</li>
<li>为多个元素定义同一套规则，可以使用“ , ”将多个元素分隔开来。例如：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/09C26047-3518-4425-84E5-5C72769A2B29.png" height="136" width="466"><br></li>
<li>元素的样式可以多次定义取其合集作为最终样式标准。<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/98D9A9E0-33BB-457C-A57E-04BCE1916631.png" height="258" width="534"><br></li>
<li>如果使用外部引用的CSS文件，那么需要使用link元素。例如：&lt;link type=“text/css” rel=“stylesheet” href=“./lounge.css” /&gt;，注意，link元素是一个空元素，需要在结尾加上“ /&gt;”才可。

</li><ul>
<li>type：表示信息的类型，此处表示是一个css文件。</li>
<li>rel：表示XHTML与需要链接的文件之间的关系，此处表示为 样式表。</li>
<li>href：表示被链接文件的地址。</li>
<li><b>样式链接冲突规则</b>：<b>后链接（优先）</b>的相同选择符的属性将覆盖先链接的选择符的属性。</li>
</ul>
<li>在单独的CSS文件内部，我们不要引入任何xhtml元素，只要完全按照css的语法编写即可。</li>
<li>可以为样式创建单独的子类，子类将继承父类元素（即主选择符，如果没有，那就是XHTML中上级元素）的属性。例如：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/DB39268E-66F0-44E3-8F70-59B0790F5793.png" height="216" width="402"><br></li>
<li>可以为所有选择符添加子类，包括未声明的。例如：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/38931B57-F41D-4B3F-8938-68A31CA32B6D.png" height="106" width="296">。此时，所有的XHTML元素都可以使用 class=“greentea” 这一样式属性了，例如：&lt;p class=“greentea”&gt;…………&lt;/p&gt;</li>
<li>注意，一个元素可以加入多个样式类，比如：&lt;p class=“greentea raspberry biueberry”&gt;，此时三个类的样式将共同作用于该元素上。</li>
<li><b>样式使用冲突应用规则</b>：当有多个类，以及继承关系上的属性<b>存在冲突(非冲突元素将全部继承)</b>时，将按照以下规则为内容选择样式：

</li><ul>
<li>在继承关系上，子类属性覆盖父类属性，子元素覆盖父元素。</li>
<li>优先级：具体子类 &gt; 模糊子类（.） &gt; 具体选择符 &gt; 该选择符的父元素</li>
<li>如果优先级相同，那么选择样式描述语句中<b>最靠后的规则</b>。</li>
</ul>
<li>id的定义：当为全页面中唯一的元素添加样式时，最好选用<b>id来保证互斥性</b>。id的定义语法：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/716B3776-7758-4486-A16B-1CD636C68C54.png" height="276" width="458">。使用方法：例如&lt;h3 class="test3" id="testid"&gt;asncnqkwnxdqw xkqpwdxqw qkdxkdk&lt;/h3&gt;，在这个例子中，h3的背景颜色\文本颜色和下划线都显示了出来，即<b>id和class是可以共存的</b>。</li>
<li><b>类和id之间唯一的区别</b>：id选择符只跟页面中一个元素匹配。（注意，<b>此处的id与 XHTML中a元素的 id锚点 是同时生效的，也就是说他们成为了定位目标</b>。）</li>
<li>link和style元素都有一个 media 属性，该属性指明了该样式表应用于哪种设备。

</li><ul>
<li>设备通常可以分为 电脑屏幕、移动设备、打印机、电视、盲文等。</li>
<li>当使用 media 属性时，浏览器只在特定设备上启用相应的样式表。</li>
<li>如果没有指定 media 属性，那么样式表将作用于所有设备。</li>
<li>最好将应用于所有设备的样式表，放在前面，然后将特定设备的样式表放在后面。这样可以确保优先使用特定设备样式表内的属性。</li>
</ul>
<li>可以特别的指定特定作用于的选择符，例如：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/EC5011D9-3289-4318-A9AC-F1A4E3E48D82.png" height="376" width="474">.在这个例子中，cjf p比div p更加精确，将实行优先覆盖。这种空格隔开的表示，<b>在最后一个空格前的容器内的特定孩子元素，使用相应的样式</b>。

</li><ul>
<li>扩展（<b>可以指定多层容器</b>）：div blockquote p：{……} 表示在 div 容器下的 blockquote 容器内的 p孩子（可以是儿子、孙子或者曾孙等等），使用此样式。</li>
</ul>
</ul>
<li>CSS的基本元素叫选择符，其对应一个XHTML元素起作用。<b>由于XHTML元素是树形层级结构，因此样式落实到某个具体的叶子节点是将会是叠加的（可以理解为是<span style="color: rgb(4, 51, 255);">继承关系</span>）</b>。比如：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/BD6AADBD-F344-4F33-96F7-ECCCB289C0E1.png" height="132" width="1070">，在这里面，p选择符和em选择符的样式将共同作用于 “qwlknlkqwndlkq”这段内容。如果是相同的样式属性，那么 em选择符的样式属性将覆盖 p选择符的样式属性。但是，并不是所有的元素都可以被继承，大体上，影响你文本外观的样式，比如字体颜色、字体以及字体样式等，都可以被继承。但是。例如边框这样的属性，就不可以被继承。</li>
<li>基本字体分类：（是按照样式划分族类的）

</li><ul>
<li>Serif Family：衬线字体，字正方圆，一般用于报纸印刷。<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/6DD223EA-9BE9-4129-A6B0-37C6F55C5EDE.png" height="292" width="474"><br></li>
<li>Sans-serif family:无衬线字体，相比于衬线字体更具有可读性。<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/5BB806FA-C249-4BCB-9614-A253E1EBFAE2.png" height="314" width="608"><br></li>
<li>Monospace Family：等宽字体。<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/066E5BDE-7104-45E5-8A96-65C4C3D7185A.png" height="244" width="408"><br></li>
<li>Cursive Family：手写字体。<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/C65653AD-6DE9-4129-AF7E-41DDF4E7542A.png" height="250" width="446"><br></li>
<li>Fantasy Family：趣味字体。<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/9A5E286C-068E-4C45-9A2B-57F6F34A7FEF.png" height="196" width="442"><br></li>
</ul>
<li>颜色空间的表示方式：

</li><ul>
<li>直接使用CSS内置的颜色属性，目前约17种。比如 yellow/green等。</li>
<li>使用 rgb( 80%,40%,0% )：分别代表 红色80%，绿色40%，蓝色0%。</li>
<li>使用 rgb( 80,102,0 )：分别代表 红色80，绿色102，蓝色0.</li>
<li>直接使用十六进制表示：#cc6600</li>
</ul>
<li><b>CSS常见属性使用</b>详解：

</li><ul>
<li>width 和 height ：可以指定元素的大小，使用px作为单位，或者是相对于元素所在容器(比如div或body等)的百分比表示。块元素的width默认值是auto，将扩展到浏览器的边界，而高度将由内容与width计算后决定。显示设置宽度后，元素的大小不再随着浏览器的变化而变化。</li>
<li>text-align:内容对齐方式。</li>
<li>font-family:可以指定元素使用到字体。可以使用列表形式，将优先匹配前面的字体。例如：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/5E745EF3-4A3C-45B1-8C5E-E50A0E3FE997.png" height="96" width="754">。在这个例子中，我们可以按照优先级列出我们想要使用的字体，一旦浏览器发现某一个字体可用，那就不再继续匹配。一般最后一个是一个字体族，以确保有可用字体。(注意对于包含空格的字体名，请使用”"包裹使用)</li>
<li>font-size：

</li><ul>
<li>浏览器默认字体大小是16px。</li>
<li>字体大小描述：

</li><ul>
<li>使用px直接描述大小，比如 font-size：12px</li>
<li>使用%百分比，表示与父元素（父类）相比的差值。比如 font-size:150%</li>
<li>使用关键字描述大小，关键字如下：xx-small、x-small、small、medium和large、x-large和xx-large。基本上以20%的比例在递增，其中small通常定为12px。</li>
</ul>
<li>网页字体设计规范技巧：

</li><ul>
<li>定义body的字体大小，最好选用关键字定义，方便与浏览器共进退。</li>
<li>用百分比描述其他子元素相对于body元素的字体大小。</li>
</ul>
</ul>
<li>font-weight：控制字体的粗细。有 normal 和 bold两种值。</li>
<li>font-style：可以选择为斜体，italic或者oblique表示斜体。</li>
<li>font-variant:设置字体的异体。取值有 normal 和 small-caps。其效果是缩放小写字母。</li>
<li>text-decoration：（线的长度与文本长度一致，<b>这些值可以共存</b>）

</li><ul>
<li>underline：下划线</li>
<li>overline：顶部线</li>
<li>blink：闪烁，但基本无效</li>
<li>line-through：删除线</li>
<li>none：无装饰</li>
</ul>
<li>color：定义了文本的前景颜色，包括文本颜色和边框颜色。</li>
<li>background-color：背景颜色</li>
</ul>
<li><b>CSS盒模式</b>：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/142DC182-6B76-4AFE-B23D-FD80F6D5D7DF.png" height="970" width="1310">

</li><ul>
<li>内容区：一个大小与内容切边的区域，不会有留白。</li>
<li>补白（可选）：在内容区和边框之间的一层留白区域，四边的大小都是可控的。补白本身是透明的，没有颜色或者装饰。（但是可以显示背景色或者背景图像）</li>
<li>边框（可选）：围绕着补白的一条线。边框可以有各种宽度、颜色和样式。</li>
<li>边界（可选）：包围着边框，用于分隔开其他盒子。边界本身也是透明的，没有颜色或装饰。（但是可以显示背景色或者背景图像）</li>
<li>注意事项：

</li><ul>
<li>元素的背景色或者背景图像会延伸到补白底下，但不会到边界。</li>
</ul>
<li>语法属性：

</li><ul>
<li>border-color：边框颜色，可以单独指定。否则将使用color中的值。</li>
<li>line-height：定义文本行高度，可以像font-size一样，使用 px,%,em等来定义。扩大了每一行文本的高度。</li>
<li>border-color 和 border-top-color等：边框线的颜色</li>
<li>border-width 和 border-top-width等：边框线的宽度，使用px。也可以使用关键字，thin瘦，medium中等，thick厚。</li>
<li>border-style 和 border-top-style等：边框的样式。分为solid实线，dotted点线，double双线（内外两根，不同色），dashed虚线，groove凹框线，inset嵌入式框，outset凸框线，ridge突出边界样式。</li>
<li>可以使用一条语句完整的描述三个边框属性，比如：

</li><ul>
<li>border:solid thin black;（style width color）</li>
<li>border-bottom:dashed 6px #ff0000；</li>
</ul>
<li>padding 和 padding-left 等：使用px描述补白的宽度。注意，后设置的属性将覆盖先设置的同类属性的值。</li>
<li>margin 和 margin-left等：使用px描述边框的宽度。注意，后设置的属性将覆盖先设置的同类属性的值。</li>
<li>background-image:url(image/background.gif) 使用如上格式引入背景图片。（注意，背景图片更多的是起到背景装饰作用，其会与内容产生重叠。因此不可以代替&lt;img&gt;元素）</li>
<li>background-repeat：设置是否重复元素。有以下几种取值：no-repeat、repeat-x、repeat-y、inherit。</li>
<li>background-position：决定背景图像的位置。</li>
</ul>
</ul>
<li><b>CSS常见缩写</b>：

</li><ul>
<li>padding：0px 20px 30px 40px（上，右，下，左）</li>
<li>padding：20px（当四边元素都一样时使用）</li>
<li>margin：0px 20px 30px 40px（上，右，下，左）</li>
<li>margin：20px（当四边元素都一样时使用）</li>
<li>border：solid 7px #007e7e（样式，宽度，颜色）</li>
<li>background（背景）：white url(./sadasd/asd.gif) repeat-x（颜色，图片地址，重复）</li>
<li>font：font-style font-variant font-weight font-size（必选）/line-height font-family（其他都是可选的，字体family里不同字体采用,隔开）</li>
</ul>
<li>伪类：伪类的本质是覆盖浏览器自动生成的类。每一个伪类实际上是代表着一个具体的元素样式，可能与状态有关。

</li><ul>
<li>伪类的语法：例如 a:link{……}</li>
<li>常见的伪类：a:link、a:visited、a:focus、a:visited、a:hover、a:active</li>
</ul>
<li><b>层叠样式表属性值确定方法</b>：（以某一个元素的属性为例）

</li><ul>
<li>把所有样式表集中起来（作者、读者、浏览器）</li>
<li>找出和该元素属性相一致的属性规则定义</li>
<li>将符合的规则按照 作者 &gt; 读者 &gt; 浏览器 的方式排列</li>
<li>按照声明的 <b>具体程度</b> 来进行排序

</li><ul>
<li>具体程度的计算方式：

</li><ul>
<li>初始化三个数字： 0 0 0</li>
<li>如果这个选择符有id，那么每个id都使首位数字+1</li>
<li>如果这个选择符有类或者伪类，那么每个类都使中间的数字+1</li>
<li>如果这个选择符有元素名称，那么每个名称都使末位的数字+1</li>
<li>最后，数字越大的元素，优先级越高</li>
</ul>
</ul>
<li>当此时还有冲突时，按照他们在文件（引用文件）中<b>出现的顺序</b>来决定</li>
<li>然后，顺序中的第一个规则就是胜者。</li>
</ul>
<li>在属性后面使用 <b>!important</b> 可以使该属性规则达到最优级别。例如：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/ED5ECF99-4607-43B7-B8A6-F7C789EC3BA0.png" height="126" width="518"><br></li><li>CSS在实际使用中，应该<b>多用组合，少用继承</b>，这样可以增加灵活性。</li><ul><li>比如使用&lt;div class="box fs-12 pd-20"&gt;this a clear color fontsize12px padding20px box&lt;/div&gt;，里面一共有 box、fs-12、pd-20 这3种自定义CSS类样式。</li><li>CSS还支持多重继承，即 .box 类定义后， .box.gray 、 .box.red  样式也是可以被定义的。在具体使用时，例如&lt;div class=“box gray fs-12 pd-20"&gt;this a gray fontsize12px padding20px box&lt;/div&gt;。可以看出， 【box gray】是这种多重继承类的正确引用方法。</li></ul>

</ul><div><br></div><div><br></div><div><b>其他部分</b>：</div><ul>
<li>颜色空间使用建议：

</li><ul>
<li>文本和背景要使用高对比颜色以提高可读性，最高做到文本用深颜色，背景用浅颜色。</li>
</ul>
</ul><div><br></div><div><b>集合部分</b>：</div><ul>
<li>浏览器布局原则：

</li><ul>
<li>浏览器布局是采用<b>流式原则</b>放置元素。</li>
<li><b>块元素的布局顺序是从上至下</b>，按照XHTML中的写法依次排列的。块元素之间有换行，每个块元素如果不指定width，那么默认占据上层元素全部的大小。（如果是浏览器，那就是全部的浏览器大小）</li>
<li><b>内联元素</b>的布局顺序是在块元素的限制下，按照<b>左上角至右下角</b>的顺序依次填充的</li>
<li>相邻块元素之间的间距（主要是边界距离计算），是按照<b>两个块元素较大一方的边界值</b>来计算的，而不是累加的。</li>
</ul>
<li><b>漂移布局</b>要点：（这是浏览器布局的基础，即使使用其他布局，也是建立在流式布局的原则上的）

</li><ul>
<li>适用范围：主要表现为一部分与浏览器贴边，而页面的其他元素，需要随着浏览器的变化而变化自身的大小。</li>
<li>漂移元素被移出了正常的文档流，放到了左边或者右边。漂移的范围是相对于他的父元素而言的。</li>
<li>要<b>漂移的元素的width必须是固定的</b>，而填充在此处的另一个块元素，其大小就是浏览器宽度（就块元素本身而言，它是和漂移的块元素发生重叠的）。但是块元素里面的内容，<b>会在触及漂移元素的边界时换行</b>，最后的布局效果还是正确的。</li>
<li><b>要一个块元素发生漂移的起始位置，一定是在他在XHTML中上一个块元素的下面</b>。且<b>发生漂移的块元素的width一定是固定的</b>。</li>
<li>而自动适应宽度的块元素，需要在发生漂移的块元素的下面。在实际的显示层级上，自适应宽度的块元素的宽度实际上一直等于浏览器宽度，只是内容元素的布局在遇到漂移漂移元素的边界时会换行。例如：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/CD8F720D-C9A9-4F42-B647-EC139D518C1A.png" height="854" width="854">，在这里面，漂移元素一直覆盖在自适应块元素的上面。</li>
<li><b>块元素漂移，需要设置 float:right/left</b> ，注意，这个样式一般使用id来定义。</li>
<li>可以对<b>块元素设置 clear:right | left</b> 这两个属性，来确保不会有漂移元素在他们右边/左边/两边。避免覆盖是需要包含边界计算的。</li>
<li>在使用漂移布局时，有两种策略：<b>左紧右松</b> 和 <b>左松右紧</b>。他们的共同特点是 浮动层都在上面，而固定曾在下面。具体使用哪种，需要根据实际情况决定。需要注意的是，在小屏幕上，浮动层先于固定层显示，而不是在同一行显示。</li>
</ul>
<li><b>冻结布局</b>要点：（非常喜欢）

</li><ul>
<li>在body里创建一个固定大小的 div，并在里面进行主要元素的布局。</li>
<li>该 固定div的有以下必要元素是一定需要写的：

</li><ul>
<li>width：一定要写具体值，确保固定布局</li>
<li>margin-left &amp;&amp; margin-right：auto。当把一个块元素的 width设置为auto时，浏览器会根据内容区的需要调整内容区的宽度。而当把边界设置为 auto时，浏览器会确保两边的边界是相等的，且计算出一个合适的大小。最终显示效果是内容区居中显示。</li>
</ul>
</ul>
<li><b>绝对布局</b>要点：（比漂移布局优先）

</li><ul>
<li>一个新的属性 position，其有四个属性值。

</li><ul>
<li>static:将元素放到正常的文档流中参与流式布局。如果某个元素使用了 float 属性，那么他的本身不参与文档流的布局，但是其大小将会影响文档流中元素的内容区布局。</li>
<li>absolute：将元素从文档流中抽离，其他元素完全感受不到这个元素的存在。是完全哦！</li>
<li>fixed：使用的是相对于浏览器的固定位置布局，而absolute使用的是基于页面的固定位置布局。这意味着fixed将会固定停留在浏览器的某个位置上，即使我们滚动网页也不会消失。</li>
<li>relative:元素依然是文档流中的一部分，在参与完流式布局后，有了一个位置，然后再根据设置的相对位置属性，对元素进行偏移操作。</li>
</ul>
<li>使用 top、right、bottom、left 这四个元素来指定这个元素的绝对位置。可以用 px指定绝对位置，或者是 百分比，指定相对关系。（注意，这也将形成一个黏着效果）</li>
<li>绝对布局的属性可以对 块元素 或者是 内联元素 使用，这一点上没有限制。但建议使用块元素&lt;div&gt; 包裹内联元素后再使用。</li>
<li>可以使用 z-index 指定同为 绝对布局的元素，在页面层级显示上的优先关系。</li>
</ul>
<li>三种基础布局的比较：

</li><ul>
<li>漂移布局：主要涉及 float 属性，但是他要求漂浮元素在HTML中的顺序需要先于固定元素，这在小屏幕设备上将造成困扰。</li>
<li>冻结布局：外围 使用 div 创建一个固定的大小，所有元素都在这个固定大小内实现布局。</li>
<li>绝对布局：可以将漂浮元素变成绝对布局元素，来达到我们的显示要求。但是此时在小设备上，将会产生覆盖，且由于 clear属性的失效，对于绝对布局元素的边界处理时非常困难的。</li>
<li>综上所述，我个人还是<b>最喜欢 冻结布局</b>。</li>
</ul>
<li><b>固定布局</b>要点：

</li><ul>
<li>这是一种相对于浏览器的布局方式。</li>
<li>需要将 position 属性置为fixed，被设置的元素也完全从文件流中移除。</li>
<li>剩下的就是设置 top、left、bottom、right这四个属性</li>
</ul>
<li><b>相对布局</b>要点：

</li><ul>
<li>相对布局是<b>在流式布局完后</b>，对使用了相对布局的元素，根据他们设置的属性，使他们<b>发生相对于当前位置的偏移</b>。</li>
<li>相对布局的元素首先需要参与流式布局，然后进行微调。</li>
<li>需要把 position属性设置为 relative</li>
<li>剩下的就是设置 top、left、bottom、right这四个属性</li>
<li>它和直接调整补白和边界相比，后者你无论如何调整，都是无法把一个元素放到它所处的盒子外面，但是这个可以。</li>
</ul>
</ul><div><br></div><div><b>附注内容</b>：</div><ul>
<li>更多的CSS选择符：

</li><ul>
<li>伪类选择符：

</li><ul>
<li>p:first-letter : 段落的首个字符</li>
<li>p:first-line ： 段落的首行</li>
</ul>
<li>属性选择符：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/56FCD4D2-BE4D-4671-AAAA-06DB8AB58046.png" height="362" width="1088"><br></li>
<li>基于兄弟的选择符：h1+p{ ….} 表示对一个紧跟着h1的段落使用CSS属性。</li>
<li>组合选择符：

</li><ul>
<li>.blueberry p{}:表示选择了blueberry类的一个元素的子孙段落。</li>
<li>div#greentea &gt; blockquote p:first-line</li>
</ul>
</ul>
<li>框架，支持划分页面，引入第三方页面展示，但是不被 W3C建议。</li>
<li>使用 Object 完成多媒体的播放。</li>
<li>搜索引擎建议：

</li><ul>
<li>提高你的排序：主要是 描述 和 关键字<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/C0A083CB-BFD5-45D3-8243-1B496A4927E4.png" height="174" width="1082"><br></li>
<li>组织搜索引擎：<img src="Head%20First%3AHTML%E4%B8%8ECSS%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0.resources/21E160D5-8ED9-470F-80AB-A75ABB1C87F4.png" height="188" width="740"><br></li>
</ul>
<li>关于打印的样式表编写建议：

</li><ul>
<li>文本背景颜色设置为白色</li>
<li>建议使用 serif 字体族</li>
<li>建议隐藏导航菜单栏、工具条以及其他无关、辅助内容等，使用CSS的 display:none即可</li>
<li>注意固定宽度的元素，可能不适合打印</li>
</ul>
</ul><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/JavaScript常见问题学习指南/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/JavaScript常见问题学习指南/" itemprop="url">
                  JavaScript常见问题学习指南
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:33:43+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">前端学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/JavaScript常见问题学习指南/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/JavaScript常见问题学习指南/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="altitude" content="18.31436538696289"><meta name="author" content="程剑锋"><meta name="created" content="2017-01-06 08:02:39 +0000"><meta name="latitude" content="31.22309183175705"><meta name="longitude" content="121.356239002185"><meta name="source" content="desktop.mac"><meta name="updated" content="2017-01-06 08:08:06 +0000"><title>JavaScript常见问题学习指南</title></head><body><div>判断一个对象是否是string：</div><div><ul><li>(obj instanceof String || obj.constructor == String) ：返回YES</li><li>json对象内的元素默认是string类型【非String类型】</li></ul></div><div><br></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/JavaScript权威指南：第6版，ECMAScript5和HTML5/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/08/JavaScript权威指南：第6版，ECMAScript5和HTML5/" itemprop="url">
                  JavaScript权威指南：第6版，ECMAScript5和HTML5
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T14:33:43+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">前端学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/JavaScript权威指南：第6版，ECMAScript5和HTML5/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/JavaScript权威指南：第6版，ECMAScript5和HTML5/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="altitude" content="14"><meta name="author" content="程剑锋"><meta name="created" content="2016-08-05 17:17:54 +0000"><meta name="latitude" content="31.21617022700955"><meta name="longitude" content="121.3023366572797"><meta name="source" content="desktop.mac"><meta name="source-url" content="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof"><meta name="updated" content="2017-01-06 08:02:35 +0000"><title>JavaScript权威指南：第6版，ECMAScript5和HTML5</title></head><body><div><b>注意：本文所有的样式展示均采用 chrome mac 2016/07 最新版编写。</b></div><div><b><br></b></div><div><b>JavaScript语言基础：</b></div><ul><li>特有关键字：</li><ul><li>delete：</li><ul><li>作用：用于删除一个对象的某一属性。语法为：delete aa.xxx ，如果表达式不为某一对象属性的引用，则语句无效。删除属性只能删除自有属性，不能删除继承属性。而且当一个对象的属性被删除时，是对象的同一原型的所有对象的这一属性都将被删除。</li><li>具体解释：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete</a></li></ul><li>typeof：</li><ul><li>作用：typeof操作符返回一个字符串,指示未经计算的操作数的类型.用法为：typeof operand，operand 是一个表达式，表示对象或原始值，其类型将被返回。</li><li>具体解释：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof" target="_blank" rel="external">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof</a></li><li>返回类型示例：
<table style="margin: 0px 0px 24px; padding: 0px; border: 2px solid rgb(255, 255, 255); border-collapse: collapse; color: rgb(77, 78, 83); font-family: &quot;Open Sans&quot;, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><thead style="margin: 0px; padding: 0px; border: 0px;"><tr style="margin: 0px; padding: 0px; border: 0px;"><th style="margin: 0px; padding: 2px 8px 4px; border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255) rgb(255, 255, 255) rgb(212, 221, 228); font-style: inherit; font-weight: 700; text-align: left; font-family: &quot;Open Sans Light&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background: rgba(212, 221, 228, 0.498039);">类型</th><th style="margin: 0px; padding: 2px 8px 4px; border-width: 2px; border-style: solid; border-color: rgb(255, 255, 255) rgb(255, 255, 255) rgb(212, 221, 228); font-style: inherit; font-weight: 700; text-align: left; font-family: &quot;Open Sans Light&quot;, Helvetica, Arial, sans-serif; font-size: 14px; background: rgba(212, 221, 228, 0.498039);">结果</th></tr></thead><tbody><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);">Undefined</td><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);"><code style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-weight: inherit; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; word-wrap: break-word;">"undefined"</code></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.14902);">Null</td><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.14902);"><code style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-weight: inherit; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; word-wrap: break-word;">"object" </code>(见下方)</td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);">Boolean</td><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);"><code style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-weight: inherit; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; word-wrap: break-word;">"boolean"</code></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.14902);">Number</td><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.14902);"><code style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-weight: inherit; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; word-wrap: break-word;">"number"</code></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);">String</td><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);"><code style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-weight: inherit; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; word-wrap: break-word;">"string"</code></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.14902);">Symbol (ECMAScript 6 新增)</td><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.14902);"><code style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-weight: inherit; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; word-wrap: break-word;">"symbol"</code></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);">宿主对象(由JS环境提供)</td><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);"><em style="margin: 0px; padding: 0px; border: 0px;">Implementation-dependent</em></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.14902);">函数对象 ( [[Call]] 在ECMA-262条款中实现了)</td><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.14902);"><code style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-weight: inherit; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; word-wrap: break-word;">"function"</code></td></tr><tr style="margin: 0px; padding: 0px; border: 0px;"><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);">任何其他对象</td><td style="margin: 0px; padding: 6px 8px; border: 2px solid rgb(255, 255, 255); text-align: left; box-shadow: rgba(212, 221, 228, 0.498039) 0px -1px 0px 0px inset; background-color: rgba(212, 221, 228, 0.247059);"><code style="margin: 0px; padding: 0px; border: 0px; font-style: inherit; font-weight: inherit; font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace; word-wrap: break-word;">"object"</code></td></tr></tbody></table></li></ul><li>debugger：认为的在代码中添加断点。用法：直接在某一行添加 debugger 即可。</li><li>with：用于设置代码在特定对象中的作用域。例如：</li></ul></ul><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var sMessage = "hello"; with(sMessage) { alert(toUpperCase()); //输出 "HELLO" }</span></span></span></div></div><ul><ul><ul><li>在这个例子中，with 语句用于字符串，所以在调用 toUpperCase() 方法时，解释程序将检查该方法是否是本地函数。如果不是，它将检查伪对象 sMessage，看它是否为该对象的方法。然后，alert 输出 "HELLO"，因为解释程序找到了字符串 "hello" 的 toUpperCase() 方法。</li><li>提示：with 语句是运行缓慢的代码块，尤其是在已设置了属性值时。大多数情况下，如果可能，最好避免使用它。</li></ul><li>in：检测对象中是否存在某一属性。</li><ul><li>用法： 属性名字符串/索引 in 对象名。</li></ul><li>instanceof ： 测试某一个对象是否是一个特定类的实例。</li><ul><li>用法： 对象名 instanceof 特定类</li><li>对于一些基本类型无法做判断，比如string【String是其封装形式】。</li></ul></ul></ul><div><br></div><div><br></div><div><br></div><div>关于原型对象以及原型对象创建的对象的讨论：</div><ul><li>当使用原型对象创建对象后，创建的对象修改继承属性只会影响自己。但是如果原型对象修改属性，会影响由他创建的所有对象。</li><li>原型创建与继承不同。</li></ul><div><br></div><div><br></div><div><b>问题列表</b>：</div><div><input type="checkbox">关于宿主对象的讨论？</div><div><br></div><div><br></div><div><br></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/logo.jpg"
               alt="Cheng JianFeng" />
          <p class="site-author-name" itemprop="name">Cheng JianFeng</p>
          <p class="site-description motion-element" itemprop="description">iOS,Python,Unity</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">62</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/TreasureU" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://treasureu.github.io/" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://treasureu.github.io/" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://treasureu.github.io/" target="_blank" title="简书">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                  简书
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cheng JianFeng</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"ChengJianFeng"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js?v=5.1.0"></script>
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  










  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
