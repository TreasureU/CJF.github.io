<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS,Python,Unity" />





  <link rel="alternate" href="/atom.xml" title="Cheng JianFeng's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/logo.jpg?v=5.1.0" />






<meta name="description" content="KSCrash简介【作者版】KSCrashKSCrash功能简介：以下是KSCrash的一些主要特点：崩溃记录相关：跟踪未捕获的C ++异常的真正原因。处理只能在Mach级被捕获的错误，如堆栈溢出。处理在KSCrash本身（或在用户崩溃处理程序回调）的崩溃。崩溃上报相关：生成完整的苹果格式的报告，但有很多额外信息无法上报。记录大量额外的信息，使用JSON格式上报。它的可插拔的服务器报告架构可">
<meta property="og:type" content="article">
<meta property="og:title" content="KSCrash简介【作者版】">
<meta property="og:url" content="https://treasureu.github.io/2017/02/08/KSCrash简介【作者版】/index.html">
<meta property="og:site_name" content="Cheng JianFeng's Blog">
<meta property="og:description" content="KSCrash简介【作者版】KSCrashKSCrash功能简介：以下是KSCrash的一些主要特点：崩溃记录相关：跟踪未捕获的C ++异常的真正原因。处理只能在Mach级被捕获的错误，如堆栈溢出。处理在KSCrash本身（或在用户崩溃处理程序回调）的崩溃。崩溃上报相关：生成完整的苹果格式的报告，但有很多额外信息无法上报。记录大量额外的信息，使用JSON格式上报。它的可插拔的服务器报告架构可">
<meta property="og:updated_time" content="2017-02-08T04:26:03.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="KSCrash简介【作者版】">
<meta name="twitter:description" content="KSCrash简介【作者版】KSCrashKSCrash功能简介：以下是KSCrash的一些主要特点：崩溃记录相关：跟踪未捕获的C ++异常的真正原因。处理只能在Mach级被捕获的错误，如堆栈溢出。处理在KSCrash本身（或在用户崩溃处理程序回调）的崩溃。崩溃上报相关：生成完整的苹果格式的报告，但有很多额外信息无法上报。记录大量额外的信息，使用JSON格式上报。它的可插拔的服务器报告架构可">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '6369437447528383000',
      author: '健康哥哥'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://treasureu.github.io/2017/02/08/KSCrash简介【作者版】/"/>





  <title> KSCrash简介【作者版】 | Cheng JianFeng's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Cheng JianFeng's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">心有猛虎,细嗅蔷薇.</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th-list"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/08/KSCrash简介【作者版】/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                KSCrash简介【作者版】
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-08T12:26:03+08:00">
                2017-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS笔记/" itemprop="url" rel="index">
                    <span itemprop="name">iOS笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/08/KSCrash简介【作者版】/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/08/KSCrash简介【作者版】/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="崩溃相关"><meta name="created" content="2016-12-04 13:39:42 +0000"><meta name="source" content="web.clip"><meta name="source-url" content="https://github.com/kstenerud/KSCrash"><meta name="updated" content="2016-12-30 06:11:44 +0000"><title>KSCrash简介【作者版】</title></head><body><div style="-evernote-webclip:true"><br><div style="display: inline-block;"><div style="box-sizing: border-box;"><div style="box-sizing: border-box; background-color: rgb(255, 255, 255); word-wrap: break-word;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;border-radius:3px;"><div style="box-sizing: border-box; word-wrap: break-word; background-color: rgb(255, 255, 255); border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;"><div style="box-sizing: border-box; margin: 0px 0px 16px; font-size: 32px; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238);"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="font-weight: 600;"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">KSCrash</font></font></span></span></span></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 20px; font-weight: 600;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><font color="#333333">KSCrash功能简介：</font></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">以下是KSCrash的一些主要特点：</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0.25em;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><b><span style="color: rgb(51, 51, 51);">崩溃记录相关：</span></b></span><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">跟踪未捕获的C ++异常的真正原因。</span></span></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">处理只能在Mach级被捕获的错误，如堆栈溢出。</span></span></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">处理在KSCrash本身（或在用户崩溃处理程序回调）的崩溃。</span></span></li></ul></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><b>崩溃上报相关</b>：</span></span></li></ul></div><ul style="box-sizing:border-box;padding-left:2em;margin-top:0px;margin-bottom:16px;"><li style="display:inline;list-style:none;"><ul><li style="box-sizing:border-box;margin-top:0.25em;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">生成完整的苹果格式的报告，但有很多额外信息无法上报。</span></span></li><li style="box-sizing:border-box;margin-top:0.25em;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">记录大量额外的信息，使用JSON格式上报。</font></font></span></span></li><li style="box-sizing:border-box;margin-top:0.25em;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">它的可插拔的服务器报告架构可以很容易地适应任何API服务。</span></span></li><li style="box-sizing:border-box;margin-top:0.25em;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">提供用户可操作接口，用于提供额外的数据上报（在崩溃发生之前和崩溃中执行）。</font></font></span></span></li></ul></li></ul><div style="box-sizing:border-box;margin-top:0.25em;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><font color="#333333"><b>额外功能</b>：</font></span><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">支持32位和64位模式。</span></span></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">记录僵尸（释放的）对象，并在需要的时候访问尝试它。</span></span></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">恢复在僵尸对象或内存操作中被释放的NSException消息。</span></span></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">On-device symbolication 在某种情况下支持离线re-symbolication（必要的IOS版本有许多功能已被删节）。</span></span></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">在寄存器和堆栈上的自省对象（C String和Objective-C Object，包括变量）。</span></span></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">提取额外的对象信息给exception参考（such as "unrecognized selector sent to instance 0xa26d9a0"等）</span></span></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">转储堆栈内容。</span></span></li><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">诊断崩溃原因（Crash Doctor）。</span></span></li></ul></li></ul></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1em; font-weight: 600;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">KSCrash可以处理以下类型的崩溃：</font></font></span></span></div></div><ul style="box-sizing:border-box;padding-left:2em;margin-top:0px;margin-bottom:16px;"><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">Mach kernel exceptions</span></span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">Fatal signals</span></span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">C++ exceptions</span></span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">Objective-C exceptions</span></span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">Main thread deadlock (实验性质)</span></span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">Custom crashes (e.g. from scripting languages)</span></span></li></ul><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1em; font-weight: 600;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">KSCrash支持发送以下服务器的报告：</font></font></span></span></div></div><ul style="box-sizing:border-box;padding-left:2em;margin-top:0px;margin-bottom:16px;"><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">Hockey</span></span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">QuincyKit</span></span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">Victory</span></span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">Email</span></span></li></ul><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><font style="box-sizing: border-box; background-color: transparent; text-decoration: none;"><font style="box-sizing:border-box;">报告格式示例：<a href="https://github.com/kstenerud/KSCrash/tree/master/Example-Reports/_README.md" style="box-sizing:border-box;background-color:transparent;color:rgb(64, 120, 192);text-decoration:none;" target="_blank" rel="external">下面是它可以生成报告的一些例子。</a></font></font></span></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 20px; font-weight: 600;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">新特性简介：</font></font></span></span></div></div><h4 style="box-sizing:border-box;margin-top:24px;margin-bottom:16px;font-size:1em;font-weight:600;"><a href="https://github.com/kstenerud/KSCrash#c-exception-handling" style="box-sizing:border-box;background-color:transparent;color:rgb(64, 120, 192);text-decoration:none;float:left;padding-right:4px;margin-left:-20px;" target="_blank" rel="external"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">C ++异常处理</font></font></span></span></a></h4><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">一般来说，如果您的应用程序终止由于未捕获的C ++异常，你得到的是这样的：</font></font></span></span></div></div><div style="font-weight:normal;font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;box-sizing:border-box;font-stretch:normal;font-variant:normal;font-style:normal;margin-bottom:16px;font-size:85%;margin-top:0px;padding:16px;overflow:auto;background-color:rgb(247, 247, 247);border-radius:3px;"><span style="color: rgb(51, 51, 51);"><code style="font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;box-sizing:border-box;border:0px;padding:0px;border-radius:3px;font-size:100%;background:transparent;margin:0px;display:inline;overflow:visible;background-color:transparent;"><span style="font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;font-size:100%;letter-spacing:-0.2em;">normal</span>Thread&nbsp;&nbsp;0&nbsp;&nbsp;name:&nbsp;&nbsp; Dispatch&nbsp;&nbsp;queue:&nbsp;&nbsp;com.apple.main-thread<br>
Thread&nbsp;&nbsp;0&nbsp;&nbsp;Crashed:<br>
0&nbsp;&nbsp;&nbsp;&nbsp;libsystem_kernel.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x9750ea6a&nbsp;&nbsp;0x974fa000&nbsp;&nbsp;+&nbsp;&nbsp;84586&nbsp;&nbsp;(__pthread_kill&nbsp;&nbsp;+&nbsp;&nbsp;10) <br>
1&nbsp;&nbsp;&nbsp;&nbsp;libsystem_sim_c.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x04d56578&nbsp;&nbsp;0x4d0f000&nbsp;&nbsp;+&nbsp;&nbsp;292216&nbsp;&nbsp;(abort&nbsp;&nbsp;+&nbsp;&nbsp;137) <br>
2&nbsp;&nbsp;&nbsp;&nbsp;libc++abi.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x04ed6f78&nbsp;&nbsp;0x4ed4000&nbsp;&nbsp;+&nbsp;&nbsp;12152&nbsp;&nbsp;(abort_message&nbsp;&nbsp;+&nbsp;&nbsp;102) <br>
3&nbsp;&nbsp;&nbsp;&nbsp;libc++abi.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x04ed4a20&nbsp;&nbsp;0x4ed4000&nbsp;&nbsp;+&nbsp;&nbsp;2592&nbsp;&nbsp;(_ZL17default_terminatev&nbsp;&nbsp;+&nbsp;&nbsp;29) <br>
4&nbsp;&nbsp;&nbsp;&nbsp;libobjc.A.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x013110d0&nbsp;&nbsp;0x130b000&nbsp;&nbsp;+&nbsp;&nbsp;24784&nbsp;&nbsp;(_ZL15_objc_terminatev&nbsp;&nbsp;+&nbsp;&nbsp;109) <br>
5&nbsp;&nbsp;&nbsp;&nbsp;libc++abi.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x04ed4a60&nbsp;&nbsp;0x4ed4000&nbsp;&nbsp;+&nbsp;&nbsp;2656&nbsp;&nbsp;(_ZL19safe_handler_callerPFvvE&nbsp;&nbsp;+&nbsp;&nbsp;8) <br>
6&nbsp;&nbsp;&nbsp;&nbsp;libc++abi.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x04ed4ac8&nbsp;&nbsp;0x4ed4000&nbsp;&nbsp;+&nbsp;&nbsp;2760&nbsp;&nbsp;(_ZSt9terminatev&nbsp;&nbsp;+&nbsp;&nbsp;18) <br>
7&nbsp;&nbsp;&nbsp;&nbsp;libc++abi.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x04ed5c48&nbsp;&nbsp;0x4ed4000&nbsp;&nbsp;+&nbsp;&nbsp;7240&nbsp;&nbsp;(__cxa_rethrow&nbsp;&nbsp;+&nbsp;&nbsp;77) <br>
8&nbsp;&nbsp;&nbsp;&nbsp;libobjc.A.dylib&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x01310fb8&nbsp;&nbsp;0x130b000&nbsp;&nbsp;+&nbsp;&nbsp;24504&nbsp;&nbsp;(objc_exception_rethrow&nbsp;&nbsp;+&nbsp;&nbsp;42) <br>
9&nbsp;&nbsp;&nbsp;&nbsp;CoreFoundation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x01f2af98&nbsp;&nbsp;0x1ef9000&nbsp;&nbsp;+&nbsp;&nbsp;204696&nbsp;&nbsp;(CFRunLoopRunSpecific&nbsp;&nbsp;+&nbsp;&nbsp;360) </code></span><div><span style="color: rgb(51, 51, 51);"><span style="background-color: transparent;"><span style="font-size: 100%;">...</span></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">没办法追踪这个exception是什么或者它是从哪里抛出的。</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">现在有了KSCrash，你将得到捕获的异常类型，描述，以及它抛出的位置：</font></font></span></span></div></div><div style="font-weight:normal;font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;box-sizing:border-box;font-stretch:normal;font-variant:normal;font-style:normal;margin-bottom:16px;font-size:85%;margin-top:0px;padding:16px;overflow:auto;background-color:rgb(247, 247, 247);border-radius:3px;"><span style="color: rgb(51, 51, 51);"><code style="font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;box-sizing:border-box;border:0px;padding:0px;border-radius:3px;font-size:100%;background:transparent;margin:0px;display:inline;overflow:visible;background-color:transparent;"><span style="font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;font-size:100%;letter-spacing:-0.2em;">normal</span>Application&nbsp;&nbsp;Specific&nbsp;&nbsp;Information:<br>
***&nbsp;&nbsp;Terminating&nbsp;&nbsp;app&nbsp;&nbsp;due&nbsp;&nbsp;to&nbsp;&nbsp;uncaught&nbsp;&nbsp;exception&nbsp;&nbsp;'MyException',&nbsp;&nbsp;reason:&nbsp;&nbsp;'Something&nbsp;&nbsp;bad&nbsp;&nbsp;happened...'<br><br>
Thread&nbsp;&nbsp;0&nbsp;&nbsp;name:&nbsp;&nbsp; Dispatch&nbsp;&nbsp;queue:&nbsp;&nbsp;com.apple.main-thread<br>
Thread&nbsp;&nbsp;0&nbsp;&nbsp;Crashed:<br>
0&nbsp;&nbsp;&nbsp;&nbsp;Crash-Tester&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0000ad80&nbsp;&nbsp;0x1000&nbsp;&nbsp;+&nbsp;&nbsp;40320&nbsp;&nbsp;(-[Crasher&nbsp;&nbsp;throwUncaughtCPPException]&nbsp;&nbsp;+&nbsp;&nbsp;0) <br>
1&nbsp;&nbsp;&nbsp;&nbsp;Crash-Tester&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0000842e&nbsp;&nbsp;0x1000&nbsp;&nbsp;+&nbsp;&nbsp;29742&nbsp;&nbsp;(__32-[AppDelegate(UI)&nbsp;&nbsp;crashCommands]_block_invoke343&nbsp;&nbsp;+&nbsp;&nbsp;78) <br>
2&nbsp;&nbsp;&nbsp;&nbsp;Crash-Tester&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00009523&nbsp;&nbsp;0x1000&nbsp;&nbsp;+&nbsp;&nbsp;34083&nbsp;&nbsp;(-[CommandEntry&nbsp;&nbsp;executeWithViewController:]&nbsp;&nbsp;+&nbsp;&nbsp;67) <br>
3&nbsp;&nbsp;&nbsp;&nbsp;Crash-Tester&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00009c0a&nbsp;&nbsp;0x1000&nbsp;&nbsp;+&nbsp;&nbsp;35850&nbsp;&nbsp;(-[CommandTVC&nbsp;&nbsp;tableView:didSelectRowAtIndexPath:]&nbsp;&nbsp;+&nbsp;&nbsp;154) <br>
4&nbsp;&nbsp;&nbsp;&nbsp;UIKit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x0016f285&nbsp;&nbsp;0xb4000&nbsp;&nbsp;+&nbsp;&nbsp;766597&nbsp;&nbsp;(-[UITableView&nbsp;&nbsp;_selectRowAtIndexPath:animated:scrollPosition:notifyDelegate:]&nbsp;&nbsp;+&nbsp;&nbsp;1194) <br>
5&nbsp;&nbsp;&nbsp;&nbsp;UIKit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x0016f4ed&nbsp;&nbsp;0xb4000&nbsp;&nbsp;+&nbsp;&nbsp;767213&nbsp;&nbsp;(-[UITableView&nbsp;&nbsp;_userSelectRowAtPendingSelectionIndexPath:]&nbsp;&nbsp;+&nbsp;&nbsp;201) <br>
6&nbsp;&nbsp;&nbsp;&nbsp;Foundation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x00b795b3&nbsp;&nbsp;0xb6e000&nbsp;&nbsp;+&nbsp;&nbsp;46515&nbsp;&nbsp;(__NSFireDelayedPerform&nbsp;&nbsp;+&nbsp;&nbsp;380) <br>
7&nbsp;&nbsp;&nbsp;&nbsp;CoreFoundation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x01f45376&nbsp;&nbsp;0x1efa000&nbsp;&nbsp;+&nbsp;&nbsp;308086&nbsp;&nbsp;(__CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__&nbsp;&nbsp;+&nbsp;&nbsp;22) <br>
8&nbsp;&nbsp;&nbsp;&nbsp;CoreFoundation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x01f44e06&nbsp;&nbsp;0x1efa000&nbsp;&nbsp;+&nbsp;&nbsp;306694&nbsp;&nbsp;(__CFRunLoopDoTimer&nbsp;&nbsp;+&nbsp;&nbsp;534) <br>
9&nbsp;&nbsp;&nbsp;&nbsp;CoreFoundation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x01f2ca82&nbsp;&nbsp;0x1efa000&nbsp;&nbsp;+&nbsp;&nbsp;207490&nbsp;&nbsp;(__CFRunLoopRun&nbsp;&nbsp;+&nbsp;&nbsp;1810) <br>
10&nbsp;&nbsp; CoreFoundation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x01f2bf44&nbsp;&nbsp;0x1efa000&nbsp;&nbsp;+&nbsp;&nbsp;204612&nbsp;&nbsp;(CFRunLoopRunSpecific&nbsp;&nbsp;+&nbsp;&nbsp;276) </code></span><div><span style="color: rgb(51, 51, 51);"><span style="background-color: transparent;"><span style="font-size: 100%;">...</span></span></span></div></div><h4 style="box-sizing:border-box;margin-top:24px;margin-bottom:16px;font-size:1em;font-weight:600;"><a href="https://github.com/kstenerud/KSCrash#handy-c-development-helper" style="box-sizing:border-box;background-color:transparent;color:rgb(64, 120, 192);text-decoration:none;float:left;padding-right:4px;margin-left:-20px;" target="_blank" rel="external"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">方便的C ++开发帮手</font></font></span></span></a></h4><p style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">如果您打开跟踪打印：</font></font></span></span></p><div style="box-sizing:border-box;margin-bottom:16px;"><pre style="font-stretch:normal;font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;box-sizing:border-box;font-weight:normal;font-variant:normal;font-style:normal;margin-top:0px;word-wrap:normal;margin-bottom:0px;font-size:85%;word-break:normal;padding:16px;overflow:auto;background-color:rgb(247, 247, 247);border-radius:3px;"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">[KSCrash </font></font></span><span style="box-sizing:border-box;color:rgb(0, 134, 179);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">sharedInstance</font></font></span><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;"> ] .printTraceToStdout = </font></font></span><span style="box-sizing:border-box;color:rgb(0, 134, 179);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">YES</font></font></span><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;"> ;</font></font></span></pre></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">它会打印正确的堆栈跟踪到标准输出，只要你的应用程序抛出一个未捕获C ++异常！</font><font style="box-sizing:border-box;">否则，调试器只会导致你在异常被重新抛出。</font></font></span></span></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1em; font-weight: 600;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">自定义崩溃和堆栈跟踪</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">现在，您可以自己定制的崩溃和堆栈跟踪（例如对于脚本语言的崩溃）：</font></font></span></span></div></div><div style="box-sizing:border-box;margin-bottom:16px;"><div style="font-stretch:normal;font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;box-sizing:border-box;font-weight:normal;font-variant:normal;font-style:normal;margin-top:0px;margin-bottom:0px;font-size:85%;padding:16px;overflow:auto;background-color:rgb(247, 247, 247);border-radius:3px;"><div>- (void) reportUserException:(NSString*) name</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reason:(NSString*) reason </div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lineOfCode:(NSString*) lineOfCode </div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stackTrace:(NSArray*) stackTrace </div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; terminateProgram:(BOOL) terminateProgram; </div></div></div><p style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">见KSCrash.h了解详情。</font></font></span></span></p><h3 style="box-sizing:border-box;margin-top:24px;margin-bottom:16px;font-size:1.25em;font-weight:600;"><a href="https://github.com/kstenerud/KSCrash#unstable-features" style="box-sizing:border-box;background-color:transparent;color:rgb(64, 120, 192);text-decoration:none;float:left;padding-right:4px;margin-left:-20px;" target="_blank" rel="external"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">不稳定的特点</font></font></span></span></a></h3><p style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">以下功能应被视为“不稳定”，默认情况下被禁用：</font></font></span></span></p><ul style="box-sizing:border-box;padding-left:2em;margin-top:0px;margin-bottom:16px;"><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">死锁检测</font></font></span></span></li></ul><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 24px; font-weight: 600; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238);"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">如何导入KSCrash</font></font></span></span></div></div><ol style="box-sizing:border-box;padding-left:2em;margin-top:0px;margin-bottom:16px;"><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">打开ios.workspace。</font></font></span></span></li><li style="box-sizing:border-box;margin-top:0.25em;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">选择KSCrash Scheme。</font></font></span></span></li><li style="box-sizing:border-box;margin-top:0.25em;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">Build或者Archiver项目。</font></font></span></span></li></ol><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">然后，你像使用任何其他框架一样使用它。</font></font></span></span></div></div><h2 style="box-sizing:border-box;margin-top:24px;margin-bottom:16px;font-size:1.5em;font-weight:600;padding-bottom:0.3em;border-bottom:1px solid rgb(238, 238, 238);"><a href="https://github.com/kstenerud/KSCrash#how-to-use-kscrash" style="box-sizing:border-box;background-color:transparent;color:rgb(64, 120, 192);text-decoration:none;float:left;padding-right:4px;margin-left:-20px;" target="_blank" rel="external"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">如何使用KSCrash</font></font></span></span></a></h2><ul><li style="box-sizing:border-box;"><div style="box-sizing:border-box;margin-bottom:16px;margin-top:16px;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">将该框架添加到项目中（或添加KSCrash项目作为依赖）</font></font></span></span><br><br></div></li><li style="box-sizing:border-box;margin-top:0.25em;"><p style="box-sizing:border-box;margin-bottom:16px;margin-top:16px;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">下面的系统框架和库添加到您的项目：</font></font></span></span></p><ul style="box-sizing:border-box;padding-left:2em;margin-top:0px;margin-bottom:0px;"><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">libc++.dylib</span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">libz.dylib</span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">MessageUI.framework&nbsp;&nbsp;</span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">【iOS only】</span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">SystemConfiguration.framework</span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">Foundation.framework</span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">CoreGraphics.framework</span></li><li style="box-sizing:border-box;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">UIKit.framework【iOS only】</span></li></ul></li><li style="box-sizing:border-box;margin-top:0.25em;"><div style="box-sizing:border-box;margin-bottom:16px;margin-top:16px;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">添加 "<b>-ObjC</b>" 标示到&nbsp;&nbsp; <b>Build Setting - Other Linker Flags</b> 中.【加载分类数据】</span></div></li><li style="box-sizing:border-box;margin-top:0.25em;"><div style="box-sizing:border-box;margin-bottom:16px;margin-top:16px;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);">【可选】如果希望自己定制化KSCrash内容，那么可以将以下内容添加到你的[application：didFinishLaunchingWithOptions：] 方法中：</span></span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;KSCrash *ksCrash = [KSCrash sharedInstance];</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ksCrash.catchZombies = YES;</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ksCrash.introspectMemory = YES;</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ksCrash install];</span></span></div></div><div style="box-sizing:border-box;margin-bottom:16px;margin-top:16px;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">&nbsp;&nbsp;【可选】如果希望使用KSCrash的上报服务器，那么可以将以下内容添加到你的</font></font><strong style="box-sizing:border-box;font-weight:600;"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">[application：didFinishLaunchingWithOptions：]</font></font></strong> <font style="box-sizing:border-box;"><font style="box-sizing:border-box;">方法中：【如果希望定制化KSCrash的属性，那么应该通过修改源码实现】</font></font></span></span></li></ul></div><div style="box-sizing:border-box;margin-bottom:16px;"><div style="font-stretch:normal;font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;box-sizing:border-box;font-weight:normal;font-variant:normal;font-style:normal;margin-top:0px;margin-bottom:0px;font-size:85%;padding:16px;overflow:auto;background-color:rgb(247, 247, 247);border-radius:3px;"><div>#import &lt;KSCrash/KSCrash.h&gt;</div><div>// Include to use the standard reporter.</div><div>#import &lt;KSCrash/KSCrashInstallationStandard.h&gt;</div><div>// Include to use Quincy or Hockey.</div><div>#import &lt;KSCrash/KSCrashInstallationQuincyHockey.h&gt;</div><div>// Include to use the email reporter.</div><div>#import &lt;KSCrash/KSCrashInstallationEmail.h&gt;</div><div>// Include to use Victory.</div><div>#import &lt;KSCrash/KSCrashInstallationVictory.h&gt;</div><div><br></div><div>- (BOOL)application:(UIApplication*) application didFinishLaunchingWithOptions:(NSDictionary*) launchOptions</div><div>{</div><div>KSCrashInstallationStandard* installation = [KSCrashInstallationStandard sharedInstance];</div><div>installation.url = [NSURL URLWithString:@"http://put.your.url.here"];</div><div><br></div><div>// OR:</div><div><br></div><div>KSCrashInstallationQuincy* installation = [KSCrashInstallationQuincy sharedInstance];</div><div>installation.url = [NSURL URLWithString:@"http://put.your.url.here"];</div><div><br></div><div>// OR:</div><div><br></div><div>KSCrashInstallationHockey* installation = [KSCrashInstallationHockey sharedInstance];</div><div>installation.appIdentifier = @"PUT_YOUR_HOCKEY_APP_ID_HERE";</div><div><br></div><div>// OR:</div><div><br></div><div>KSCrashInstallationEmail* installation = [KSCrashInstallationEmail sharedInstance];</div><div>installation.recipients = @[@"some@email.address"];</div><div><br></div><div>// Optional (Email): Send Apple-style reports instead of JSON</div><div>[installation setReportStyle:KSCrashEmailReportStyleApple useDefaultFilenameFormat:YES];</div><div><br></div><div>// Optional: Add an alert confirmation (recommended for email installation)</div><div>[installation addConditionalAlertWithTitle:@"Crash Detected"</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message:@"The app crashed last time it was launched. Send a crash report?" </div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yesAnswer:@"Sure!" </div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; noAnswer:@"No thanks"]; </div><div><br></div><div>// OR:</div><div><br></div><div>KSCrashInstallationVictory* installation = [KSCrashInstallationVictory sharedInstance];</div><div>installation.url = [NSURL URLWithString:@"https://put.your.url.here/api/v1/crash/&lt;application key&gt;"];</div><div><br></div><div>[installation install];</div><div>&nbsp;&nbsp;&nbsp;&nbsp; … </div><div>}</div></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">以上操作，将安装崩溃监视系统（拦截崩溃并存储报告到磁盘）。</font><font style="box-sizing:border-box;">请注意，有可能要为具体的设备设置其他属性。</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">【可选】如果你使用KSCrashInstallation安装KSCrash，一旦你准备好发送任务，那么可以调用以下方法发送崩溃数据：</font></font></span></span></li></ul></div><div style="box-sizing:border-box;margin-bottom:16px;"><div style="font-stretch:normal;font-family:Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;box-sizing:border-box;font-weight:normal;font-variant:normal;font-style:normal;margin-top:0px;margin-bottom:0px;font-size:85%;padding:16px;overflow:auto;background-color:rgb(247, 247, 247);border-radius:3px;"><div>[installation sendAllReportsWithCompletion:^(NSArray *filteredReports, BOOL completed, NSError *error)</div><div>{</div><div>&nbsp;&nbsp;// Stuff to do when report sending is complete</div><div>}];</div></div></div><h2 style="box-sizing:border-box;margin-top:24px;margin-bottom:16px;font-size:1.5em;font-weight:600;padding-bottom:0.3em;border-bottom:1px solid rgb(238, 238, 238);"><a href="https://github.com/kstenerud/KSCrash#recommended-reading" style="box-sizing:border-box;background-color:transparent;color:rgb(64, 120, 192);text-decoration:none;float:left;padding-right:4px;margin-left:-20px;" target="_blank" rel="external"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">推荐阅读</font></font></span></span></a></h2><p style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">如果可能的话，你应该阅读下面的头文件，充分了解哪些功能KSCrash了，以及如何使用它们：</font></font></span></span></p><ul style="box-sizing:border-box;padding-left:2em;margin-top:0px;margin-bottom:16px;"><li style="box-sizing:border-box;">KSCrash.h</li><li style="box-sizing:border-box;">KSCrashInstallation.h</li><li style="box-sizing:border-box;">KSCrashInstallation(SPECIFIC TYPE).h</li><li style="box-sizing:border-box;">Architecture.md</li></ul><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238);"><div><span style="font-weight: 600;"><span style="font-size: 20px;"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">高级用法</font></font></span></span></span></span></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 16px; font-weight: 600;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">启用On-Device symbolication</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">On-device symbolication需要基本符号存在于最终程序中。</font><font style="box-sizing:border-box;">为了实现这一目标，我们需要设置 <b>Build Setting - Strip Style</b> 为 <b>Debugging Symbol</b></font></font><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">。如果</font><font style="box-sizing:border-box;">这样做将会使你的最终二进制文件大小增加约5％，，但你将获得On-device symbolication的能力。</font></font></span></span></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 16px; font-weight: 600;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">启用高级功能：</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">KSCrash拥有先进的功能，对于研究用户上报的崩溃报告时会非常有用。</font><font style="box-sizing:border-box;">一些功能涉及到取舍，所以大部分都是默认禁用。</font></font></span></span></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1em; font-weight: 600;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">自定义用户数据（userInfo in KSCrash.h）</font></font></span></span></li></ul></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">您可以</font></font></span></span><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">通过操作KSCrash的 userInfo 属性</font></font></span></span>&nbsp;&nbsp;，<span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">设置自定义的用户数据到下一个崩溃报告中</font></font><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">。</font></font></span></span></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1em; font-weight: 600;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">僵尸跟踪（zombieCacheSize in KSCrash.h）</font></font></span></span></li></ul></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">KSCrash具有检测僵尸实例（指向已释放的对象的野指针）的能力。</font><font style="box-sizing:border-box;">它通过记录被释放的任何对象的 Address 和 Class 做到这一点。</font><font style="box-sizing:border-box;">它在高速缓存中存储这些值，key是被释放对象的Address，value是被释放对象的Class。同时这个高速缓存的大小可以由你设置，但是缓存越小，就意味着越有可能发生散列碰撞，这将导致你失去先前已存储的释放对象的内容</font><font style="box-sizing:border-box;">。</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">当僵尸跟踪启用时，KSCrash还将记录最后一个NSException的内容并放到崩溃报告中。</font><font style="box-sizing:border-box;">某些种类的内存损坏或堆栈损的坏崩溃会导致NSException被提前释放，这个功能可以提供关于元凶的真实信息，所以这个功能有时可能很方便。</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;"><u><b>权衡</b>：跟踪僵尸会在对象dealloc时增加非常轻微的开销，以及有一些内存占用</u>。</font></font></span></span></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1em; font-weight: 600;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">死锁检测（deadlockWatchdogInterval in KSCrash.h）</font></font></span></span></li></ul></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><strong style="box-sizing:border-box;font-weight:600;"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">警告警告警告警告警告警告警告</font></font></strong></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><strong style="box-sizing:border-box;font-weight:600;"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">此功能是不稳定的！</font><font style="box-sizing:border-box;">它可能会错误判定并且主动使您的应用程序崩溃！</font></font></strong></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">如果你的主线程死锁，您的用户界面会变得反应迟钝，用户必须手动关闭应用程序（对此不会有崩溃报告）。</font><font style="box-sizing:border-box;">随着死锁检测启用，为看门狗定时器设置一个时间阈值，</font><font style="box-sizing:border-box;">如果有任何函数在主线程上的持续时间超过看门狗定时器的阈值，KSCrash将主动关闭应用程序，并且为主线程生成一个堆栈跟踪。</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">这是美好的，但你必须小心：特别是应用程序初始化一般发生在主线程，</font><font style="box-sizing:border-box;">如果你的初始化代码比看门狗定时器需要更长的时间，你的应用程序将被强制在启动时关机！</font><font style="box-sizing:border-box;">如果启用此功能，您必须确保您正常运行的代码，无持有主线程比看门狗的阈值长！</font><font style="box-sizing:border-box;">同时，你要定时器设置为一个足够低的值，赶在用户没有变得不耐烦之前触发看门狗触发手动关闭应用程序！</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><u><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;"><b>权衡</b>：死锁检测，但你一定要多多小心什么主线程上运行！</font></font></span></span></u></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1em; font-weight: 600;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">内存内省（introspectMemory in KSCrash.h）</font></font></span></span></li></ul></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">当一个应用程序崩溃，通常在堆栈、寄存器甚至异常消息中会有一些对象和字符串的引用。</font><font style="box-sizing:border-box;">启用内存内省后，KSCrash将会去尝试读取这些内存地址上的内容【Type、Value、ivars、Address、last_dealloc_obj等信息】，并将其记录到报告中。</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">我们可以将不需要内省的类设置到KSCrash.</font></font><span style="box-sizing: border-box;"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;"><span style="font-weight: 600;">doNotIntrospectClasses</span>&nbsp;&nbsp;属性【列表】中</font></font></span><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">。记录后，这些类的对象将只记录class name。</font></font></span></span></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1em; font-weight: 600;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">自定义崩溃处理代码（onCrash in KSCrash.h）</font></font></span></span></li></ul></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">如果你想要在崩溃发生后做一些额外的处理（也许是为了增加更多的上下文数据报告），你可以设置这个属性，它是一个函数指针【非block】。</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">但是，你必须确保你只使用异步安全的代码，并且确保不在这一段代码中调用OC代码【C和C++还是可以的】！虽然在</font><font style="box-sizing:border-box;">很多情况下，你可以不必这样做，但在某些类别的崩溃中，编写不符合上述规定的程序代码会导致崩溃处理block崩溃！</font><font style="box-sizing:border-box;">请注意，如果发生这种情况，KSCrash会检测到它，继续写一个完整的报告，尽管自定义处理程序代码可能没有完全运行。</font></font></span></span></div></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><u><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;"><b>权衡</b>：自定义崩溃处理代码，但是你必须要小心的编写它！</font></font></span></span></u></div></div><div style="box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1em; font-weight: 600;"><ul><li><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">KSCrash日志重定向</font></font></span></span></li></ul></div><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">这会将所有的KSCrash的输出被打印到控制台，或者将其写入一个文件来代替。</font><font style="box-sizing:border-box;">主要是用这个来调试KSCrash本身，而是它可能还有其他用途，所以我开放它的API。</font></font></span></span></div></div><h2 style="box-sizing:border-box;margin-top:24px;margin-bottom:16px;font-size:1.5em;font-weight:600;padding-bottom:0.3em;border-bottom:1px solid rgb(238, 238, 238);"><a href="https://github.com/kstenerud/KSCrash#examples" style="box-sizing:border-box;background-color:transparent;color:rgb(64, 120, 192);text-decoration:none;float:left;padding-right:4px;margin-left:-20px;" target="_blank" rel="external"><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">示例</font></font></span></span></a></h2><div style="box-sizing:border-box;margin-top:0px;margin-bottom:16px;"><div><span style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';"><span style="color: rgb(51, 51, 51);"><font style="box-sizing:border-box;"><font style="box-sizing:border-box;">工作区包括一些示例应用程序，这表明普通KSCrash用法。</font><font style="box-sizing:border-box;">请看看AppDelegate.m在每个应用程序的顶部是做什么的说明。</font></font></span></span></div></div></div></div></div></div></div></div></div></div></div></div><br></div><div><br></div></body></html>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/weixin_pay.JPG" alt="Cheng JianFeng WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="/images/zhifubao_pay.JPG" alt="Cheng JianFeng Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>


    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/02/08/iOS断言机制/" rel="next" title="iOS断言机制">
                <i class="fa fa-chevron-left"></i> iOS断言机制
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/02/08/类的初始化方法使用指南/" rel="prev" title="类的初始化方法使用指南">
                类的初始化方法使用指南 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2017/02/08/KSCrash简介【作者版】/"
     data-title="KSCrash简介【作者版】"
     data-content=""
     data-url="https://treasureu.github.io/2017/02/08/KSCrash简介【作者版】/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/02/08/KSCrash简介【作者版】/"
           data-title="KSCrash简介【作者版】" data-url="https://treasureu.github.io/2017/02/08/KSCrash简介【作者版】/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/logo.jpg"
               alt="Cheng JianFeng" />
          <p class="site-author-name" itemprop="name">Cheng JianFeng</p>
          <p class="site-description motion-element" itemprop="description">iOS,Python,Unity</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">61</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/TreasureU" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://treasureu.github.io/" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://treasureu.github.io/" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://treasureu.github.io/" target="_blank" title="简书">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                  简书
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#undefined"><span class="nav-number">1.</span> <span class="nav-text">C ++异常处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#undefined"><span class="nav-number">2.</span> <span class="nav-text">方便的C ++开发帮手</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number"></span> <span class="nav-text">不稳定的特点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number"></span> <span class="nav-text">如何使用KSCrash</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number"></span> <span class="nav-text">推荐阅读</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number"></span> <span class="nav-text">示例</span></a></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cheng JianFeng</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"ChengJianFeng"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js?v=5.1.0"></script>
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  










  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
