<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS,Python,Unity" />





  <link rel="alternate" href="/atom.xml" title="Cheng JianFeng's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/images/logo.jpg?v=5.1.0" />






<meta name="description" content="iOS,Python,Unity">
<meta property="og:type" content="website">
<meta property="og:title" content="Cheng JianFeng's Blog">
<meta property="og:url" content="https://treasureu.github.io/index.html">
<meta property="og:site_name" content="Cheng JianFeng's Blog">
<meta property="og:description" content="iOS,Python,Unity">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cheng JianFeng's Blog">
<meta name="twitter:description" content="iOS,Python,Unity">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '6369437447528383000',
      author: '健康哥哥'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://treasureu.github.io/"/>





  <title> Cheng JianFeng's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Cheng JianFeng's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">心有猛虎,细嗅蔷薇.</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th-list"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/Effective Objective-C 2.0读书笔记：系统框架/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/Effective Objective-C 2.0读书笔记：系统框架/" itemprop="url">
                  Effective Objective-C 2.0读书笔记：系统框架
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:59+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS笔记/" itemprop="url" rel="index">
                    <span itemprop="name">iOS笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/Effective Objective-C 2.0读书笔记：系统框架/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/Effective Objective-C 2.0读书笔记：系统框架/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="author" content="程剑锋"><meta name="created" content="2016-03-16 08:30:30 +0000"><meta name="updated" content="2016-03-17 10:08:18 +0000"><title>Effective Objective-C 2.0读书笔记：系统框架</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul><li>关于遍历collection元素的方法（共有四种，效率依次提高）：
<ul><li>简单的for循环</li><li>使用OC1.0中的NSEnumerator，该类的使用方法：（其优点在于有<b>l两种类型的遍历枚举器</b>）
<ul><li>[collection objectEnumerator/keyEnumerator]：获取一个NSEnumerator对象。</li><li>有些collection，如数组中有 reverseObjectEnumerator方法。</li><li>[NSEnumerator nextObject]：获取下一个object对象，直至nil。</li><li>[NSEnumerator allObjects]: 获取所有对象的数组</li></ul></li><li>for-in循环，只要是实现了 NSFastEnumeration协议的类即可使用。（非并发模式下最快）</li><li>基于块的遍历方式：基本模式是 -(void)enumrateXXXXXUsingBlock:( xxxx block )；其优点在于：
<ul><li>由于block的模式基本为 ^( id object … )，我们可以修改块的方法签名，将id类型替换为我们想要的类型。这主要是<b>基于id类型方法参数可以被任何类型覆写</b>。这样做的优点在于，如果我们明确某个collection中元素的类型必须是某种类型，那么覆写后编译器将帮我们完成对于该对象方法调用上的正确与否。</li><li>我们可以使用复杂的带有 NSEnumerationOptions 的方法调用，该参数可以指定 是否并发遍历（NSEnumerationConcurrent，其采用GCD并发队列实现并发），以及是否 反向遍历（NSEnumerationReverse）。采用 位或操作符连接，默认传入0即可。</li></ul></li></ul></li><li>使用无缝桥接技术（<b>仅在ARC下需要使用，MRC不需要</b>），可以在定义于Foundation框架的OC对象与定义在CoreFoundation框架中的C数据结构之间相互转换，具体可以参考<a href="evernote:///view/2147483647/s39/131bf35a-099e-4ce2-82dc-cf051ee94a3f/131bf35a-099e-4ce2-82dc-cf051ee94a3f/" style="color:#69aa35;" target="_blank" rel="external">无缝桥接技术详解</a></li><li>使用NSCache构建缓存：<a href="evernote:///view/2147483647/s39/3123aad0-730b-4fdd-ba17-a2639f523980/3123aad0-730b-4fdd-ba17-a2639f523980/" style="color:#69aa35;" target="_blank" rel="external">NSCache使用指南</a></li><li>NSTimer使用指南：<a href="evernote:///view/2147483647/s39/63710ce2-f860-425c-8186-962580b2191d/63710ce2-f860-425c-8186-962580b2191d/" style="color:#69aa35;" target="_blank" rel="external">NSTimer使用指南</a>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>类的初始化方法（ load + initialize ）使用指南：<a href="evernote:///view/2147483647/s39/3895ffef-fb7f-4a2d-a7c6-c8156a3b47cb/3895ffef-fb7f-4a2d-a7c6-c8156a3b47cb/" style="color:#69aa35;" target="_blank" rel="external">类的初始化方法使用指南</a></li></ul></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/Effective Objective-C 2.0读书笔记：块与GCD/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/Effective Objective-C 2.0读书笔记：块与GCD/" itemprop="url">
                  Effective Objective-C 2.0读书笔记：块与GCD
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:59+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS笔记/" itemprop="url" rel="index">
                    <span itemprop="name">iOS笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/Effective Objective-C 2.0读书笔记：块与GCD/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/Effective Objective-C 2.0读书笔记：块与GCD/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="author" content="程剑锋"><meta name="created" content="2016-03-14 07:51:15 +0000"><meta name="updated" content="2016-06-14 07:41:47 +0000"><title>Effective Objective-C 2.0读书笔记：块与GCD</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul><li>IOS有监视进程，如果一个app的主线程阻塞太久，那么将会被系统杀死。</li><li>Clang是xcode的编译器</li><li>block相关知识：<a href="evernote:///view/2147483647/s39/b75f09b1-3442-4577-9b08-de5c9d9041f5/b75f09b1-3442-4577-9b08-de5c9d9041f5/" style="color:#69aa35;" target="_blank" rel="external">block使用方法</a></li><li>使用block相较于delegate的形式：可以有效的降低代码分散程度。</li><li>关于使用多个回调还是一个块回调，建议使用一个块来回调：（以网络回调举例）：</li><li style="list-style: none; display: inline"><ul><li>调用的代码可以根据自己的需要来处理问题，而不是简单的划分为两类。</li><li>通用代码可以最大程度上实现复用。</li></ul></li><li>关于代码同步块的写法：</li><li style="list-style: none; display: inline"><ul><li>使用锁对象： NSLock对象（同线程不可重入，否则将死锁）；NSRecursiveLock递归锁，同一线程能多次持有该锁。</li><li>使用 @synchronized（xxx）方法：同步语法。</li><li>使用 ”串行同步队列“：新建一个串行队列，然后想需要互斥操作的代码放入这个串行队列中执行。代码详细参见P167. GCD相对于锁机制而言，由于其是相当底层的C语言代码，因此效率上会有所优化，且可以明确GCD内任务的执行顺序，完成更多复杂的操作等。</li></ul></li><li>对于GCD而言，我们需要明确两个特质：</li><li style="list-style: none; display: inline"><ul><li>同步（sync）还是异步( async )：同步或者是异步，是针对于调用者而言，指其<b>是否需要等待 block执行完成才能继续往下执行代码</b>。</li><li>串行还是并行：这个<b>取决于queue是 串行队列还是并行队列</b>。（即便是并行队列，也要考虑其是否有设置Target，其有可能不是真正的并行队列）</li></ul></li><li><b>关于同步和异步的效率问题</b>：异步派发有一个隐藏的block copy操作（因为要异步执行），而同步派发是没有的。因此，并不是异步派发效率上一定优于同步派发（更何况有时我们是不能使用异步派发的，比如下面的代码依赖于block执行结果时），如果 block内代码不复杂，那么copy操作的额外消耗可能大于异步带来的好处，引发效率降低。</li><li>在并发queue的代码块中，为了达到串行执行某些任务的功能，需要使用 <b>dispatch_barrier_async</b>( dispatch_queue_t queue, dispatch_block_t block ) 和<b>&nbsp;&nbsp;dispatch_barrier_sync</b>( dispatch_queue_t queue, dispatch_block_t block )。</li><li>performSelector的方法缺点：（可以考虑使用GCD代替）</li><li style="list-style: none; display: inline"><ul><li>如果传入的 SEL 是动态变化的，那么ARC无法判定返回值的类型，也不知道是否需要将返回值release。鉴于此，ARC采用较为谨慎的方式，统一不释放返回值，由此可能引发内存泄露问题。</li><li>performSelector的返回值默认是id类型，需要转化为其他类型则需要进过转化步骤。且如果执行函数的返回值为C语言结构体，则不可以使用performSelector方法。</li><li>performSelector的选择子是id类型，如果方法接受基本类型那么将不能使用performSelector。</li><li>performSelector存在参数个数限制，如果超过3个参数以上，就需要另外想办法执行。</li></ul></li><li>OC中有对GCD的高层封装，即NSOperationQueue. GCD是纯C的API，而NSOperationQueue则是OC的对象，其<b>优势</b>如下：（但效率和易用性上不如GCD）</li><li style="list-style: none; display: inline"><ul><li>可以取消某个操作。在任务加入queue后，我们可以对该 operation执行cancel，如果任务还未被调度，那么它不会被调度。而如果任务已经开始，无法自动取消，但是我们可以在任务的main内定期检测cancel标志位，以达到此效果。</li><li>可以指定 operation之间的依赖关系，这对于并发队列特别有效。可以参考：http://www.2cto.com/kf/201504/390735.html 。只需要对&nbsp;&nbsp;[blockOp2 <b>addDependency:</b>blockOp1]; 即可。</li><li>可以指定操作的优先级。比如 [o3 setQueuePriority:NSOperationQueuePriorityHigh]; 可以参考：http://blog.csdn.net/kiki1985/article/details/8734999</li><li>NSOperation对象可以定制化，且易于在代码中重用</li></ul></li><li>GCD并发队列中，执行任务实际所需的并发线程数量，取决于各种因素，而GCD主要是根据系统资源状况来判定这些因素的。（即你无法确定实际有多少个线程）</li><li>单例的最佳实现方案：建议采用 dispatch_once 来执行只需运行一次的线程安全代码。此方式效率最高，几乎是 @synchronized的两倍。</li><li>GCD队列可以设置层级关系 &nbsp;&nbsp;dispatch_set_target_queue( queueB, queueA )，一旦设置了层级关系，那么 queueB 上的block 实际将在 queueA 的线程中执行。但我们无法为 系统的GCD 设置依赖关系，它们只能作为 层级的顶端。</li><li style="list-style: none; display: inline"><ul><li>因为可以设置 target关系，GCD可以呈现一种树状层级结构。</li><li>因为 sync在同一个 串行GCD上执行时将导致死锁，而 可以设置Target使这种问题变得越发复杂。</li><li>要检测Target的设置关系：我们需要为每个queue添加标记，然后在使用时检测标记，来判断Target关系。详情可以参见：P183。</li><li>dispatch_get_current_queue 可以获取当前队列，用于避免一些简单的死锁，但是一旦设置了Target，则无法有效的使用这种机制避免。建议采用上一条的方式来避免死锁。&nbsp;&nbsp;</li></ul></li><li>GCD总结： <a href="evernote:///view/8887184/s39/4abc06ca-4df2-4ec1-80ab-c47e4b45c831/4abc06ca-4df2-4ec1-80ab-c47e4b45c831/" style="color:#69aa35" target="_blank" rel="external">GCD使用方式与效果总结</a></li><li><b>GCD上的死锁出现条件</b>：只有采用sync方式，并最终在 串行队列中执行时，才会引发block。</li></ul></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/Effective Objective-C 2.0读书笔记：接口与API设计/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/Effective Objective-C 2.0读书笔记：接口与API设计/" itemprop="url">
                  Effective Objective-C 2.0读书笔记：接口与API设计
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:59+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS笔记/" itemprop="url" rel="index">
                    <span itemprop="name">iOS笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/Effective Objective-C 2.0读书笔记：接口与API设计/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/Effective Objective-C 2.0读书笔记：接口与API设计/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="altitude" content="10.08357810974121"><meta name="author" content="程剑锋"><meta name="created" content="2016-03-12 14:20:47 +0000"><meta name="latitude" content="31.1974285104281"><meta name="longitude" content="121.3632029963981"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-09-16 03:50:16 +0000"><title>Effective Objective-C 2.0读书笔记：接口与API设计</title></head><body>
<ul>
<li>在编写自己的代码时，主要是<b>类、C函数和全局变量（非static）</b>这类全局可见的符号表，一定要注意加上前缀（<b>苹果默认保留两个字的类名前缀</b>，所以我们要从三个字开始使用）避免命名空间冲突。</li>
<li>在编写自己的第三方framework和静态库时，除了需要遵守第一条守则外，还需要注意，如果在库的内部额外引入了第三方库，那么需要对<b>第三方库的所有类名进行修改</b>，同样的是<b>以添加上自己的类前缀为好</b>。这样就避免了，如果别人同时引入了我们的库和这个第三方库，会造成编译冲突的问题。</li>
<li>属性的读取特质限制，仅能限制通过属性方法对属性变量的操作，但直接对属性变量的操作，是无法通过读取特质来限制的。比如在类内部直接访问属性的实例变量，以及通过KVC直接对属性变量进行赋值等。</li>
<li>针对每个类，我们应该至少提供一个全能初始化方法，编写多个全能初始化方法的依据是，这些方法的初始化过程完成不一致则可以这么做。比如 initWithParam  和 initWithCoder 。在这些全能初始化方法中，应该根据super的情况来调用它的函数（可能不一定是和当前初始化函数名字相同的方法，甚至是相差甚远的方法）。</li>
<li>对于 super的所有初始化方法，理论上我们都应该进行覆盖。对于一些不能使用的，直接 @throw NSException 即可，或者直接返回nil。（建议使用前者，这样程序更加清晰）</li>
<li>在 <b>NSLog %@</b> 时，会调用相应对象的 <b>description</b> 方法。其默认实现是返回类名 和 指针地址。我们可以覆盖它返回更加详细的数据。（<b>%p 是指针的意思</b>）。在使用 <b>po 对象</b>时，调用的是 <b>debugDescription</b>方法，此时我们根据自己的需要可以返回更加详细的数据。</li>
<li>我们对外暴露的属性，应该尽量是readonly的，而且只在确有必要时才将属性对外公布。为了在类的内部完全打开读写权限，可以在 类的分类中将该属性重新设置为 readwrite。</li>
<li>建议对私有方法加上前缀，这样可以在调试和阅读时一目了然。建议使用“p_”作为前缀。同时不要使用“_”作为前缀，因为这是苹果对自己私有方法的前缀。</li>
<li>理解OC错误模型：<a href="evernote:///view/2147483647/s39/b45d7eb6-c69d-455d-b84d-9907aa6b4724/b45d7eb6-c69d-455d-b84d-9907aa6b4724/" style="color:#69aa35;" target="_blank" rel="external">IOS异常处理机制</a></li>
</ul>
</body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/Effective Objective-C 2.0读书笔记：熟悉OC/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/Effective Objective-C 2.0读书笔记：熟悉OC/" itemprop="url">
                  Effective Objective-C 2.0读书笔记：熟悉OC
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:59+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS笔记/" itemprop="url" rel="index">
                    <span itemprop="name">iOS笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/Effective Objective-C 2.0读书笔记：熟悉OC/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/Effective Objective-C 2.0读书笔记：熟悉OC/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="author" content="程剑锋"><meta name="created" content="2016-03-09 03:19:30 +0000"><meta name="updated" content="2016-03-11 05:46:22 +0000"><title>Effective Objective-C 2.0读书笔记：熟悉OC</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul><li>消息与函数调用的区别：关键区别在于，使用消息结构的语言，使用了其运行时所应执行的代码是由运行环境决定的。而使用了函数调用的语言，则由编译器决定。如果范例代码中调用的函数是多态的。那么在运行时就需要按照“虚函数表”来查出到底应该执行哪个函数实现。而采用消息结构的语言，无论是否多态，总是在运行时才会查找所要执行的方法。</li><li>对象总是分配在堆上，而不是栈上。因此与创建结构体相比，创建对象还需要额外的开销，例如分配和释放堆内存等。</li><li>由于头文件的展开是依次进行的，那么在OC中使用 #import 指令，在 循环引用 发生时，也不会导致死循环，但会其中一个文件将无法被正确的编译。</li><li>使用字面量创建的字符串、数组和字典对象都是不可变的。使用字面量时，如果想要放入nil，那么可以用[NSNull null] 对象代替，切不可直接使用，否则将会引起crash。</li><li>宏指令是在预编译阶段替换的，且替换的有效范围是以编译单元为单位的。即只有引入这个宏的头文件中的内容，才会被替换。由此可以引出编译原理的三大阶段：</li><li style="list-style: none; display: inline"><ul><li>以.m文件为一个编译单元，展开各自编译单元内的头文件。</li><li>对每个编译单元进行预编译处理、编译等操作，输出obj文件。</li><li>对所有的obj文件进行链接，形成程序文件。</li></ul></li></ul><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 宏定义展开正是在第二步中完成的。 </div><div><ul><li>使用常量定义代替宏定义，在使用上会更加安全。定义的格式请参照 ：</li><li style="list-style: none; display: inline"><ul><li>只在当前编译单元内可以见的： static 类型 const 变量名 = .......；</li><li>在外部编译单元可见： （定义） 类型 const 变量名 = .....; &nbsp;&nbsp;&nbsp;&nbsp;（外部引用） extern 类型 const 变量名 &nbsp;&nbsp;= .....； </li><li>注意，我们需要将声明放在.h中，将定义放在.h中。这才是良好的编程习惯。</li><li>如果是 static ，那么放在.h 和 .m 中都无所谓，但建议还是按照规范来。</li></ul></li><li>使用系统宏定义来定义枚举，需要进行位操作组合的枚举使用NS_OPTION宏，只是简单列举的宏，使用NS_ENUM宏。</li></ul></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/Effective Objective-C 2.0读书笔记：协议与分类/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/Effective Objective-C 2.0读书笔记：协议与分类/" itemprop="url">
                  Effective Objective-C 2.0读书笔记：协议与分类
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:59+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS笔记/" itemprop="url" rel="index">
                    <span itemprop="name">iOS笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/Effective Objective-C 2.0读书笔记：协议与分类/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/Effective Objective-C 2.0读书笔记：协议与分类/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="altitude" content="10.53390598297119"><meta name="author" content="程剑锋"><meta name="created" content="2016-03-13 13:07:06 +0000"><meta name="latitude" content="31.19730649845225"><meta name="longitude" content="121.3631884634351"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-12-07 02:02:09 +0000"><title>Effective Objective-C 2.0读书笔记：协议与分类</title></head><body><ul>
<li>delegate方法和datasource方法最大的区别在于信息流的流向，delegate是从委托人流向被委托人，因此回调方法的返回值为void；而datasource则是从被委托人流向委托人，因此返回值不会void。</li>
<li>在设计 委托协议 时，<font color="#0433ff"><b>通常回调方法的第一个参数 都是委托对象自身</b>，因为被委托对象<b>可能同时兼任多个委托对象的delegate/datasource</b>，我们需要传入委托对象，才能正确的区分处理</font>。</li>
<li>如果在委托对象上调用协议的<b>可选方法</b>时，一定要使用  -(BOOL)respondsToSelector:(SEL) 判断是否存在，(注意该方法是 NSObject协议中声明的方法，因此如果希望我们的协议应该都继承于NSObject协议)。<b><font color="#0433ff">因为，如果频繁的多次判断是做无用功，因此我们可以建立一个位域变量，然后重载setDelegate方法，在其设置值时对其能否响应做好判断</font></b>。具体可以参照 P99页。</li><ul><li>位域变量示例：</li><li><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-variant-ligatures: normal; orphans: 2; text-indent: 28px; widows: 2; background-color: rgb(128, 160, 140);">typedef </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-variant-ligatures: normal; orphans: 2; text-indent: 28px; widows: 2; background-color: rgb(128, 160, 140);">struct </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-variant-ligatures: normal; orphans: 2; text-indent: 28px; widows: 2; background-color: rgb(128, 160, 140);"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-variant-ligatures: normal; orphans: 2; text-indent: 28px; widows: 2; background-color: rgb(128, 160, 140);">AA</span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; orphans: 2; text-indent: 28px; widows: 2; background-color: rgb(128, 160, 140);">{</span></li><div><div><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">unsigned </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">int </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">b1:1;</span></div><div><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">unsigned </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">int </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">b2:1;</span></div><div><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">unsigned </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">int </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">b3:1;</span></div><div><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">unsigned </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">int </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">b4:1;</span></div><div><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;"> </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">unsigned </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">int </span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(128, 160, 140); float: none;">b5:1;</span><span style="color: rgb(70, 70, 70); font-family: simsun; font-size: 14px; orphans: 2; text-indent: 28px; widows: 2; background-color: rgb(128, 160, 140);">}AA;</span></div></div></ul>
<li>类的<b>分类有两种</b>：

</li><ul>
<li>class-continuations ： 这是一个特殊的分类，它只能声明在主类的实现文件中。而且扩展名为()。它的三大功能：

</li><ul>
<li><b>这个分类可以生成实例变量，因此可以直接声明属性变量和实例变量</b>，其效果等同于直接在@implement中声明。私有属性和变量可以放在此处。</li>
<li>私有协议也可以放在此处。</li>
<li>如果一个属性在.h中为readonly，那么在此处它可以再次被扩展为readwrite。（注意任何分类出现的属性都应该与同类接口中的属性保持相同的特质，但是仅有readonly可以被扩展为readwrite）</li>
</ul>
<li>普通分类：有单独的头文件和实现文件，文件名通常为  className+扩展名 ,且@interface 需要指明扩展名。在<b>这些分类中不能生成实例变量</b>。（可以声明属性，但我们需要添加@dynamic，然后自己实现它的属性方法，并使用 关联对象为其设置实例变量）</li>
</ul>
<li>使用普通分类时，我们需要引入头文件才能使用里面的方法。</li>
<li>分类在编译时，是<b>按照载入顺序依次编译的</b>（载入顺序没有规律）。因此，如果两个分类中存在同名的扩展方法，那么<b>后载入的方法将覆盖前面载入的方法的具体实现</b>。因此，在编写分类时，最好在方法名前面加上分类的扩展名，比如 -（void)abc_urlEncoding; .</li>
<li>.mm表示将文件按照objective-C++来编译，如果我们引入的头文件或者是自身代码中包含了C++的语法，比如#include”” 或者是 class 等，我们就需要将实现文件改为.mm。且所有包含了此类头文件的实现文件都需要改为.mm。因此，我们建议在.h中最好不要有任何关于C++的写法。将其写在 class-continuations中，这样，我们就可以暴露一个完全OC的头文件，也不用强迫别人因为使用了我们的头文件而需要将实现文件的后缀改为.mm。</li>
<li>使用匿名对象 id&lt;protocolName&gt;，可以是值的类型多样化。<b>匿名类型不仅可以用在返回参数上，还可以用在调用参数上</b>。如果不符合协议要求，那么将在<b>编译阶段给出警告</b>。</li>
<li>id类型的指针可以指向任何类型的对象，而且像id类型的对象发送一则编译器已知的消息（可以是任何类的，只要是已知的即可），都不会引起编译警告，但可能引起crash，建议先使用 -(BOOL)respondsToSelector:(SEL) 判断是否存在。</li>
<li>在NSDictionary中，键的标准内存管理语意是 设置时copy，而值的内存管理语义是 设置时保留。因此，key的对象必须遵循NSCopying协议。因此，我们可以看到函数： -(void)setObject:(id)object forKey(id&lt;NSCopying&gt;)key;</li>
</ul><div><br></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/Effective Objective-C 2.0读书笔记：对象、消息、运行期/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/Effective Objective-C 2.0读书笔记：对象、消息、运行期/" itemprop="url">
                  Effective Objective-C 2.0读书笔记：对象、消息、运行期
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:59+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS笔记/" itemprop="url" rel="index">
                    <span itemprop="name">iOS笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/Effective Objective-C 2.0读书笔记：对象、消息、运行期/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/Effective Objective-C 2.0读书笔记：对象、消息、运行期/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="altitude" content="21.9205379486084"><meta name="author" content="程剑锋"><meta name="created" content="2016-03-08 10:35:09 +0000"><meta name="latitude" content="31.22305424322017"><meta name="longitude" content="121.3561700731711"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-03-10 02:58:03 +0000"><meta name="application-data:corenote-localUUID" content="B4157980-AB5D-4212-B901-0160B17955B8"><meta name="application-data:corenote-hostUUID" content="4D185068-9BCF-48E1-BA86-2004C933D40C"><title>Effective Objective-C 2.0读书笔记：对象、消息、运行期</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul><li>属性有4大特质：原子特质、读写权限、内存管理特质、方法名定制化</li><li>开发IOS时一般使用 nonatomic ，因为IOS基本都是单线程操作的。在开发MAC OSX时使用 atomic 基本不会遇到瓶颈问题。</li><li>我们可以直接定义变量，或者是使用属性生成变量。对于属性生成的变量来说，是生成在.m文件中，即外部完全不可见（包括子类）。对于直接定义的变量，默认是 @protected，即外部类型不可直接访问，但子类可以。可以使用@public来改变.h中变量的<b>访问权限</b>。</li><li>在初始化方法中(init等)，应该直接使用 实例变量来赋值，因为属性方法可能在子类中被改写，从而与预期不一致。对于类内部的其他时候，合理的访问方式应该是：在写入实例变量时，总是采用属性方法。而访问则采用直接访问实例变量的方式获取。</li><li>关于 [xxx class] 的返回值，这个方法是每个具体类的类方法，其返回的是自身。那么就分为两种情况：</li><li style="list-style: none; display: inline"><ul><li>对于实例对象调用class方法：其返回自己所属的类。</li><li>对于类对象调用class方法：其返回自身。 &nbsp;&nbsp;&nbsp;&nbsp; 因此， <b>循环调用的结果就是，每次返回值都是一致的</b>。</li></ul></li><li>ios中有很多类型其都具有类族的概念，比如 UIButton，我们通过 buttonWithType: 返回的是其基类下某一个具体子类的实例变量。而基类通常 包含了对下面具体子类的接口抽象。这个概念很重要，这意味这我们<b>平时使用的大多数控件都是一个类族形式，而指针均是基类的指针</b>。</li><li>判断对象的类和类族的方法：</li><li style="list-style: none; display: inline"><ul><li>isKindOfClass: 可以比较前者是否属于后者的类族。其比较范围是 ： <b>以后者开始为根类，展开的类族树中，是否包含前者的类型</b>。</li><li>isMemberOfClass: 严格比较前者和后者的类型是否一致。</li><li>&nbsp;&nbsp;== ： 其实和第二种是一样的。</li></ul></li><li>关于对象等同性判断：通过 hash 和 isEqualTo: （在这里面，我们首先需要实现的就是对其类型判断是否一致）这两个函数一致，那么就表示这两个对象是等同的（不一定是同一个对象）。因此，若想判断某个类型的对象是否相等，请提供这两个函数。</li><li>关于 hash 函数，在NSObject 的默认实现中，其是直接返回指针地址。对于其他系统类，系统会根据其内容的不同，返回不同的hash值。（这是很好的可以利用的一点）。关于我们的自定义类，要实现高效且正确的hash函数必须满足以下要求：</li><li style="list-style: none; display: inline"><ul><li>在 isEqualTo： 返回YES时，其hash值必须相等。（这是一种约定，也是NSSet高效插入的一种机制）</li><li>提取出类中的<b>不可变系统类型</b>，获取他们的hash值。（不可变是因为，防止其在插入NSSet后，hash值又发生变化，最终会导致NSSet中出现重复对象）</li><li>组合第二步中的所有hash值，得到一个最终的hash值。（可通过加减运算或者位运算得到）</li></ul></li><li>当我们想要编写系统类型的子类时，我们需要覆写超类文档中指明的需要覆写的方法。这个一般在文档中会写明。</li><li>使用关联对象的方式，可以把两个对象连接起来。详情参见P41。注意，在链接时，其键值是个指针值，我们通过这个键值设入对象，也需要通过这个键值获取对象。因此，这个键值我们通常采用 常量字符串变量 来表示： static NSString* const xxxxx = @"xasdasda"; . &nbsp;&nbsp;我们可以用这个方法来伪造属性，即把 get/set 方法放在 属性的获取和设置函数中。</li><li>关于 &nbsp;&nbsp;<a href="evernote:///view/8887184/s39/df58eaac-06c3-4ad5-9684-bd8247555275/df58eaac-06c3-4ad5-9684-bd8247555275/" style="color:#69aa35" target="_blank" rel="external">IOS方法转发机制</a><b>P46</b>&nbsp;&nbsp;和 &nbsp;&nbsp;<a href="evernote:///view/8887184/s39/b2ccbffb-6930-4ea5-a18e-42b8db02c809/b2ccbffb-6930-4ea5-a18e-42b8db02c809/" style="color:#69aa35" target="_blank" rel="external">IOS方法调配技术</a><b>P53</b>&nbsp;&nbsp;将单独开辟文章来详述。</li><li>isa表示了一种的对象的从属关系（包括类对象），表示新建这个对象的类型是哪一个/这个对象属于哪个类型。而superclass则指明了类的继承关系。</li></ul><div><br></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/Effective Objective-C 2.0读书笔记：内存管理/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/Effective Objective-C 2.0读书笔记：内存管理/" itemprop="url">
                  Effective Objective-C 2.0读书笔记：内存管理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:59+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS笔记/" itemprop="url" rel="index">
                    <span itemprop="name">iOS笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/Effective Objective-C 2.0读书笔记：内存管理/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/Effective Objective-C 2.0读书笔记：内存管理/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="keywords" content="读书笔记"><meta name="author" content="程剑锋"><meta name="created" content="2016-03-14 02:53:06 +0000"><meta name="updated" content="2016-03-14 07:51:02 +0000"><title>Effective Objective-C 2.0读书笔记：内存管理</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><ul><li>关于自动释放池 <b>@autoreleasepool</b> ，其会在稍后将对象的引用计数减1（池子释放时），而不会立即减1。如果不是自己添加的释放池，那么释放的时机通常是在下一次“事件循环”时发生。</li><li>在使用ARC简化引用计数写法，不仅可以提升开发效率，还可以提升运行效率。因此以下原因：</li><li style="list-style: none; display: inline"><ul><li>ARC添加的内存管理语句都是C函数，避开了消息调用流程，加快了执行速度。（还要注意，这意味着我们对release等消息的覆盖是无效的）</li><li>ARC包含运行期组件，能自动检测成对的互斥语句，比如函数返回时autorelease 和 外部变量对其执行的retain操作，它在识别到这些操作时，将通过一个标志位对这些操作进行标记，而避免调用 autorelease 和retain语句，从而加快了速度。（当然，这对我们来说是透明的）</li></ul></li><li>ARC内存管理规则：</li><li style="list-style: none; display: inline"><ul><li>ARC下，<b>内存管理语义成为硬性规定</b>。以 <b>alloc &nbsp;&nbsp; new &nbsp;&nbsp; copy &nbsp;&nbsp; mutableCopy 返回的对象，其持有权归调用者所</b>有。而其他函数返回的对象会自动执行一次 autorelease ，（当然外部接收的变量会自动做一次 retain），具体可以参考 P123。</li><li>在ARC时，默认情况下，每个变量都是指向对象的强引用。</li><li>其对于生成的属性方法的自动内存管理语句是：<b>先保留新值（tmp），再释放旧值，最后设置实例变量</b>。这是最安全的属性设置方式。</li><li>ARC只能管理Objective-C对象，但是比如 CoreFoundtion中的对象等C语言对象还是需要自己管理内存的。</li><li>使用ARC后不可覆盖 release &nbsp;&nbsp;retain &nbsp;&nbsp;autorelease 等语句，否则会干扰ARC分析对象的生命期的工作。</li></ul></li><li>dealloc方法只执行一次，也就是引用计数降为0时执行，但具体何时执行，不做保证。且在程序中，会有极个别对象，在应用终止时，仍处于存活状态，这些对象不会收到daalloc消息。如果一定要清理这些对象那么可以在 -(void)applicationWillTerminate:(UIApplication*)application 中完成操作。</li><li>建议的dealloc方法编写原则：</li><li style="list-style: none; display: inline"><ul><li>在dealloc中不要调用属性的存取方法。</li><li>在dealloc中优先完 通知监听的解除，以及 KVO监听的解除。</li><li>dealloc不应该出现异步线程的操作。</li></ul></li><li>关于异常安全代码： <a href="evernote:///view/8887184/s39/b45d7eb6-c69d-455d-b84d-9907aa6b4724/b45d7eb6-c69d-455d-b84d-9907aa6b4724/" style="color:#69aa35" target="_blank" rel="external">IOS异常处理机制</a></li><li>在大量产生临时对象的地方，或者大的<b>fou循环<font color="#BA00FF">内部</font></b>一定要添加添加上 @autoreleasepool （不要担心频繁执行的效率问题），这样能及时回收临时变量，有效的降低内存峰值。（当时spotlight里就是这么做的，图片格式转换产生了大量的临时对象，需要用这种方法去及时回收）</li><li>启用僵尸对象调试内存问题，僵尸对象在接收到消息后会抛出异常，并输出打印，其中包含对象类型和消息方法。关于僵尸对象的实现原理，具体来说分为以下几步：</li><li style="list-style: none; display: inline"><ul><li>运行期系统如果检测到NSZombieEnabled，那么就会将dealloc方法调配（” <a href="evernote:///view/8887184/s39/b2ccbffb-6930-4ea5-a18e-42b8db02c809/b2ccbffb-6930-4ea5-a18e-42b8db02c809/" style="color:#69aa35" target="_blank" rel="external">IOS方法调配技术</a>“）。</li><li>在修改后的dealloc中执行以下几步：用旧类的名字生成名为 _NSZombie_xxxx 的僵尸类，并注册到runtime中；执行旧类对象的dealloc语句（但不回收内存）；将旧类对象的isa指针指向新类。</li><li>改写僵尸类的消息转发机制（” <a href="evernote:///view/8887184/s39/df58eaac-06c3-4ad5-9684-bd8247555275/df58eaac-06c3-4ad5-9684-bd8247555275/" style="color:#69aa35" target="_blank" rel="external">IOS方法转发机制</a>“），使其可以响应任何方法并统一传递到一个地方处理。</li><li>在处理消息的地方，打印输出 旧类名 和 消息名 以及 实例对象指针，然后 abort() 程序。</li></ul></li><li>retainCount是不可靠的，主要是由于以下原因：</li><li style="list-style: none; display: inline"><ul><li>它只反映某个给定时间点上的保留计数值，但这个值不考虑已执行的但还未生效的autorelease调用。</li><li>系统有时候会优化对象释放行为，在保留技术为1时即回收，那么这个值永远不归0.</li><li>系统会尽量把 NSString对象实现为单例对象（那么它的保留计数将是MAX）。对于整形的NSNumber，系统也会 ”标签指针“的模式优化（可能），此时也会导致保留计数失效。参考可见P147.</li></ul></li><li><b>基于以上原因，请绝对不要用retainCount</b>。</li></ul></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/C#学习笔记/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/C#学习笔记/" itemprop="url">
                  C#学习笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:27+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Unity笔记/" itemprop="url" rel="index">
                    <span itemprop="name">Unity笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/C#学习笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/C#学习笔记/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="altitude" content="16.14680862426758"><meta name="author" content="程剑锋"><meta name="created" content="2016-11-01 15:38:52 +0000"><meta name="latitude" content="31.21654719017305"><meta name="longitude" content="121.3022713237501"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-11-12 16:30:53 +0000"><title>C#学习笔记</title></head><body><div>
<div>
<div>
<div><b>C#基础语法学习</b>：</div>
<ul>
<li>C#中所有变量都是对象，当然按照类型来分，可以分为值类型、引用类型和指针类型。也就是说，C#没有传统意义上的内置类型，int\float\double等都是结构体对象，属于值类型，而引用类型就是class类型对象，当然也可以是new出来的结构体对象。</li>
<li>对于非new出来的结构体对象，其成员变量在首次装载值之前是不能使用的。但对于new出来的对象，其内存块是clear的，所有引用类型的成员变量会被置为null，而所有的值类型数据会被清零。</li>
<li>对于引用类型的局部变量，C#要求必须先赋值，再使用。</li>
<li>对于值类型数据，我们可以通过在&lt;data_type&gt;? var_name = null，的形式，表示其为可空类型，从而为其添加一个nul值。否则正常的值类型数据是不能添加null值的。当然，引用类型是默认可以赋为null。</li>
<li>如果没有指定，则使用默认的访问标识符。类的默认访问标识符是 internal，成员的默认访问标识符是 private。</li>
<li><b>C#封装修饰符</b>：

</li><ul>
<li>Public</li>
<li>Private</li>
<li>Protected</li>
<li>Internal：访问说明符允许一个类将其成员变量和成员函数暴露给当前程序中的其他函数和对象。换句话说，带有 internal 访问修饰符的任何成员可以被定义在该成员所定义的应用程序内的任何类或方法访问。只要是当前项目内的，不同文件也是可以的。</li>
<li>Protected Internal：访问修饰符允许一个类将其成员变量和成员函数对同一应用程序内的子类以外的其他的类对象和函数进行隐藏。这也被用于实现继承。</li>
</ul>
<li>C#没有引入头文件的概念，如果需要使用一个类，直接使用就好，处于同一个项目中的所有文件都是相互可见的【与swift一致】。需要注意的是，如果没有 using &lt;namespace&gt; ，那么需要使用 namespace.xxx 来使用这个类。

</li><ul>
<li>命名空间可以嵌套，嵌套的命名在使用时也要加上所有嵌套的命名空间名字。</li>
</ul>
<li> 密封类与抽象类：

</li><ul>
<li><b>密封类</b>：通过在类定义前面放置关键字 <b>sealed</b>，可以将类声明为<b>密封类</b>。当一个类被声明为 <b>sealed</b> 时，它不能被继承。抽象类不能被声明为 sealed。</li>
<li><b>抽象类</b>：使用关键字 <b>abstract</b> 创建抽象类，用于提供接口的部分类的实现。当一个派生类继承自该抽象类时，实现即完成。抽象类包含抽象方法，抽象方法可被派生类实现。派生类具有更专业的功能。【不能初始化一个抽象类的实例】

</li><ul>
<li>抽象类允许存在实例成员变量 和 实例方法【带有实现代码的】，但是被标记为<b>abstract</b> 的方法不允许存在实现代码。在继承类中必须override abstract方法才能被实例化。</li>
<li>抽象类中允许不存在任何abstract方法，但它还是一个抽象类,依然无法被实例化。</li>
</ul>
</ul>
<li>函数重载：同一个类中同名方法的重载。重载依据：<b>函数参数个数、函数参数的类型</b>。</li>
<li>动态多态性的实现基础：抽象类和虚函数。【注意，静态函数不参与多态】

</li><ul>
<li>抽象类：通过定义抽象类，那么继承类需要实现抽象类中的所有abstract方法。继承的子类中，需要对所有abstract方法进行 override。</li>
<li>虚函数：在基类中将方法声明为virtual，那么在继承的子类中，需要对所有virtual方法进行 override。</li>
<li>关于子类中调用父类方法的方式：

</li><ul>
<li>普通函数：需要在函数中显示的调用 base.xxxx() 才可以调用父类的方法。</li>
<li>构造函数：如果需要预先执行父类的构造函数，必须在子类构造函数中 : base( .. ) 才可以正常调用。例如：public Rectangle( int a=0, int b=0) :base(a, b)。</li>
</ul>
</ul>
<li>C#支持默认参数的写法。和C++一样，要求从右至左的填写默认参数。</li>
<li>C#运算符重载：C#要求<b>所有运算符重载都必须是public static的</b>。

</li><ul>
<li>C#运算符集合：</li>
</ul>
</ul>
<div>
<table style="border: 0px; padding: 0px; border-collapse: collapse; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, STHeiti, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
<tbody><tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<th style="border: 1px solid rgb(85, 85, 85); padding: 3px; font-size: 12px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;">运算符</th>
<th style="border: 1px solid rgb(85, 85, 85); padding: 3px; font-size: 12px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;">描述</th>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">+, -, !, ~, ++, --</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">这些一元运算符只有一个操作数，且可以被重载。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">+, -, *, /, %</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">这些二元运算符带有两个操作数，且可以被重载。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">==, !=, &lt;, &gt;, &lt;=, &gt;=</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">这些比较运算符可以被重载。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">&amp;&amp;, ||</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">这些条件逻辑运算符不能被直接重载。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">+=, -=, *=, /=, %=</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">这些赋值运算符不能被重载。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">=, ., ?:, -&gt;, new, is, sizeof, typeof</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">这些运算符不能被重载。</td>
</tr>
</tbody></table>
<ul>
<li>C#判断某个对象是否是某个类的实例：is ，示例：( str is string  )</li>
<li>接口使用 interface 关键字声明，它与类的声明类似。接口声明默认是 public 的。</li>
<li><b>C#预编译指令</b>：</li>
</ul>
<table style="border: 0px; padding: 0px; border-collapse: collapse; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, STHeiti, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
<tbody>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<th style="border: 1px solid rgb(85, 85, 85); padding: 3px; font-size: 12px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;">预处理器指令</th>
<th style="border: 1px solid rgb(85, 85, 85); padding: 3px; font-size: 12px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;">描述</th>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#define</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">它用于定义一系列成为符号的字符。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#undef</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">它用于取消定义符号。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#if</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">它用于测试符号是否为真。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#else</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">它用于创建复合条件指令，与 #if 一起使用。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#elif</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">它用于创建复合条件指令。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#endif</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">指定一个条件指令的结束。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#line</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">它可以让您修改编译器的行数以及（可选地）输出错误和警告的文件名。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#error</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">它允许从代码的指定位置生成一个错误。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#warning</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">它允许从代码的指定位置生成一级警告。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#region</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">它可以让您在使用 Visual Studio Code Editor 的大纲特性时，指定一个可展开或折叠的代码块。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">#endregion</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">
<div>它标识着 #region 块的结束。</div>
</td>
</tr>
</tbody>
</table>
<ul>

<ul>
<li>#line：使您可以修改编译器的行号以及（可选）错误和警告的文件名输出。下面的示例说明如何报告与行号关联的两个警告。#line 200 指令强迫行号为 200（尽管默认值为 #7）。另一行 (#9) 作为默认 #line 指令的结果跟在通常序列后。</li>
</ul>

</ul>
<div><img src="/Resources/C%23%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.resources/C73486B9-3EEA-40B1-AED8-A5274DEF403D.png" height="364" width="620"><br></div>
</div>
<div>
<ul>

<ul>
<li>#region和#endregion：用于代码块的包裹和折叠/展开。只在VS上生效。 </li>
<li>#if：使用规范【 #if symbol [operator symbol]… 】，operator是以下四种之一：== (equality)、!= (inequality)、&amp;&amp; (and)、|| (or)。可以用括号把符号和运算符进行分组。条件指令用于在调试版本或编译指定配置时编译代码。一个以 #if 指令开始的条件指令，必须显示地以一个 #endif 指令终止。</li>
</ul>

<li>C#中在debug模式下存在预定义宏（DEBUG）</li>
<li>C#的异常处理：

</li><ul>
<li>C# 异常处理时建立在四个关键词之上的：try、catch、finally 和 throw。使用示例如下：</li>
</ul>
</ul>
<div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);">
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">try</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">{</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">   // 引起异常的语句</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">catch( ExceptionName e1 )</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">{</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">   // 错误处理代码</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">catch( ExceptionName e2 )</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">{</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">   // 错误处理代码</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">catch( ExceptionName eN )</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">{</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">   // 错误处理代码</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">finally</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">{</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">   // 要执行的语句</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div>
</div>
</div>
<div>
<ul>

<ul>
<li>C# 中的异常类主要是直接或间接地派生于 System.Exception 类。主要分成以下两大类：

</li><ul>
<li>System.ApplicationException：支持由应用程序生成的异常。所以程序员定义的异常都应派生自该类。</li>
<li>System.SystemException：是所有预定义的系统异常的基类。以下是预定义的系统Exception分类：</li>
</ul>
</ul>

</ul>
<table style="border: 0px; padding: 0px; border-collapse: collapse; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, STHeiti, &quot;Microsoft Yahei&quot;, sans-serif; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">
<tbody><tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<th style="border: 1px solid rgb(85, 85, 85); padding: 3px; font-size: 12px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;">异常类</th>
<th style="border: 1px solid rgb(85, 85, 85); padding: 3px; font-size: 12px; color: rgb(255, 255, 255); background-color: rgb(85, 85, 85); vertical-align: top; text-align: left;">描述</th>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">System.IO.IOException</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">处理 I/O 错误。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">System.IndexOutOfRangeException</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">处理当方法指向超出范围的数组索引时生成的错误。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">System.ArrayTypeMismatchException</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">处理当数组类型不匹配时生成的错误。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">System.NullReferenceException</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">处理当依从一个空对象时生成的错误。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">System.DivideByZeroException</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">处理当除以零时生成的错误。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">System.InvalidCastException</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">处理在类型转换期间生成的错误。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(255, 255, 255);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">System.OutOfMemoryException</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">处理空闲内存不足生成的错误。</td>
</tr>
<tr style="border: 0px; padding: 0px; background-color: rgb(246, 244, 240);">
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">System.StackOverflowException</td>
<td style="border: 1px solid rgb(212, 212, 212); padding: 7px 5px; font-size: 1em; word-break: break-all; word-wrap: break-word; vertical-align: top;">
<div>处理栈溢出生成的错误。</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<ul>

<ul>
<li>被catch住的Exception,可以再次被抛出。那它会向上层继续抛出。</li>
</ul>

<li>C#的类成员变量（静态或者非静态），均支持<b>声明初始化方式</b>。但是如果同时声明了构造函数的话，以构造函数为准。</li>
<li>C#数组：

</li><ul>
<li>内容较多，详情参考文章：<a href="http://www.runoob.com/csharp/csharp-array.html" target="_blank" rel="external">http://www.runoob.com/csharp/csharp-array.html</a></li>
<li>声明：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">double</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> balance</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span></div>
</li>
<li>简单初始化：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">double</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> balance </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">new</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">double</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">10</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">];</span></div>
</li>
<li>直接初始化-1：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">double</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> balance </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">2340.0</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">4523.69</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">3421.0</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">};</span></div>
</li>
<li>直接初始化-2：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> marks </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">new</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">5</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">99</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span> <span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">98</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">92</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">97</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">95</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">};</span></div>
</li>
<li>直接初始化-3：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> marks </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">new</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">99</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span> <span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">98</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">92</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">97</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">95</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">};</span></div>
</li>
</ul>
<li>C#多维数组：

</li><ul>
<li>标准多维数组：

</li><ul>
<li>二维数组示例：string[,] a = new string[4,5]</li>
<li>三维数组示例：string[ , , ] a = new string[4,5,6]</li>
</ul>
<li>交叉数组：

</li><ul>
<li>二维交叉数组示例：string [][] a = new string[5][]</li>
<li>三维交叉数组示例：string [][][] a = new string[5][][]</li>
<li>解析：对于交叉数组来说，它其实是指针的数组，因此和传统的一维数组没有区别，只是成员全部都换成了指针。也是因为如此，交叉数组的第一维必须是确定的。</li>
</ul>
</ul>
</ul>
<div>
<div><br></div>
<div><br></div>
<div><b>C#高级语法学习</b>：</div>
</div>
</div><ul>
<li><b>C#特性</b>：是用于在运行时传递程序中各种元素（比如类、方法、结构、枚举、组件等）的<b>行为信息的声明性标签</b>。特性可以在运行时动态的被程序获取到。

</li><ul>
<li>基础语法：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">attribute</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">positional_parameters</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> name_parameter </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> value</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">...)]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
element</span></div>
</li>
<li>预定义特性：【<b>Conditional、</b><b>Obsolete、</b><b>AttributeUsage</b>】

</li><ul>
<li><b>Conditional</b>：条件特性。

</li><ul>
<li>语法：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Conditional</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   conditionalSymbol<br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)]</span></div>
</li>
<li>示例：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">    [</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Conditional</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"DEBUG"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span> <span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">static</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">void</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Message</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">string</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> msg</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
       </span> <span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">msg</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></div>
</li>
<li>效果：当被编译时，如果 DEBUG 没有被 #define，那么函数 Message 将被替换为空实现。相比于条件编译语句 #if-#elif-#else-#endif ，其在变量未定义时，可以直接使用，只是被替换为空实现，不需要再每个实现的地方都加上条件编译语句。</li>
</ul>
<li><b>Obsolete</b>：标记了不应被使用的程序实体。它可以让您通知编译器丢弃某个特定的目标元素。

</li><ul>
<li>语法：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Obsolete</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   message<br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Obsolete</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   message</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   iserror<br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)]</span></div>

</li><ul>
<li>参数 message，是一个字符串，描述项目为什么过时的原因以及该替代使用什么。</li>
<li>参数 iserror，是一个布尔值。如果该值为 true，编译器应把该项目的使用当作一个错误。默认值是 false（编译器生成一个警告）。</li>
</ul>
<li>示例：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Obsolete</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Don't use OldMethod, use NewMethod instead"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">true</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">static</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">void</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">OldMethod</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">()</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> <br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"It is the old method"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></div>
</li>
<li>用法：参与编译器报错/告警，可以对废弃方法产生警告或者报错。</li>
</ul>
<li><b>AttributeUsage</b>：最常用的特性，用于生成自定义特性。

</li><ul>
<li>语法：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AttributeUsage</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   validon</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AllowMultiple</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">allowmultiple</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Inherited</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">inherited<br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)]</span></div>

</li><ul>
<li> 参数 validon 规定特性可被放置的语言元素。它是枚举器 AttributeTargets 的值的组合。默认值是 AttributeTargets.All。</li>
<li>参数 allowmultiple（可选的）为该特性的 AllowMultiple 属性（property）提供一个布尔值。如果为 true，则该特性是多用的。默认值是 false（单用的）。</li>
<li>参数 inherited（可选的）为该特性的 Inherited 属性（property）提供一个布尔值。如果为 true，则该特性可被派生类继承。默认值是 false（不被继承）。</li>
</ul>
<li>作用：用于声明和创建自动自定义特性。具体用法参见自定义特性使用。</li>
</ul>
</ul>
<li>自定义特性：

</li><ul>
<li>创建并使用自定义特性的步骤：

</li><ul>
<li>声明自定义特性：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 一个自定义特性 BugFix 被赋给类及其成员</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AttributeUsage</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AttributeTargets</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Class</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">|</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AttributeTargets</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Constructor</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">|</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AttributeTargets</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Field</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">|</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AttributeTargets</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Method</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">|</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AttributeTargets</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Property</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AllowMultiple</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">true</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
<br></span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">class</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">DeBugInfo</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">:</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">System</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Attribute</span></div>
</li>
<li>构建自定义特性：对 DebugInfo这个类进行具体实现。</li>
<li>在目标程序元素上应用自定义特性：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">DeBugInfo</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">49</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Nuha Ali"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"10/10/2012"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
       </span> <span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Message</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Unused variable"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">class</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Rectangle</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{…}</span></div>
</li>
<li>通过反射访问特性【参见下面】</li>
</ul>
<li>步骤示例：参见<a href="http://www.runoob.com/csharp/csharp-attribute.html" target="_blank" rel="external">http://www.runoob.com/csharp/csharp-attribute.html</a></li>
<li>注意要点：

</li><ul>
<li>对于 require 的参数，需要使用构造函数来实现，对于 optional 的参数，我们可以暴露 public 的成员变量 或者是 属性方法来给外界设置。对于上面的例子来说，前三个无key值的参数就是构造函数所需的参数，最后一个Message则是属性方法设置。【其实，使用message = “xx” 也是可以的】</li>
<li>对于自定义的特性，所有数据赋值必须在 【】内完成，基本使用格式为：【自定义特性名（构造函数参数列表，public_property/var = value）】。</li>
</ul>
</ul>
</ul>
<li><b>C#反射</b>：

</li><ul>
<li>定义：反射指程序可以访问、检测和修改它本身状态或行为的一种能力。</li>
<li>作用：

</li><ul>
<li>它允许在运行时查看属性（attribute）信息。</li>
<li>它允许审查集合中的各种类型，以及实例化这些类型。</li>
<li>它允许延迟绑定的方法和属性（property）。</li>
<li>它允许在运行时创建新类型，然后使用这些类型执行一些任务。</li>
</ul>
<li>运行时查看时属性：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">static</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">void</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Main</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">string</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> args</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Rectangle</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> r </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">new</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Rectangle</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">4.5</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">7.5</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         r</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Display</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">();</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Type</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> type </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">typeof</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Rectangle</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 遍历 Rectangle 类的属性</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">foreach</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Object</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> attributes </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">in</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> type</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">GetCustomAttributes</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">false</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">))</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
           </span> <span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">DeBugInfo</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> dbi </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">DeBugInfo</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">attributes</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
           </span> <span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">null</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">!=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
           </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
               </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Bug no: {0}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">BugNo</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
               </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Developer: {0}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Developer</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
               </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Last Reviewed: {0}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
                                        dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">LastReview</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
               </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Remarks: {0}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Message</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
           </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         <br>
         </span><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 遍历方法属性</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">foreach</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">MethodInfo</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> m </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">in</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> type</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">GetMethods</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">())</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
           </span> <span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">foreach</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Attribute</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> a </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">in</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> m</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">GetCustomAttributes</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">true</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">))</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
           </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
               </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">DeBugInfo</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> dbi </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">DeBugInfo</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">a</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
               </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">if</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">null</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">!=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
               </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
                 </span> <span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Bug no: {0}, for Method: {1}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
                                                dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">BugNo</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> m</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Name</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
                 </span> <span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Developer: {0}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Developer</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
                 </span> <span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Last Reviewed: {0}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
                                                dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">LastReview</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
                 </span> <span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Remarks: {0}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> dbi</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Message</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
               </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
           </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">ReadLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">();</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></div>

</li><ul>
<li>其中<span style="border: 0px; padding: 0px;"><span style="color: rgb(102, 0, 102);">GetCustomAttributes</span>该方法是返回此成员所有自定义特性数组，inherit参数用于表示是否搜索此成员的继承链以查找这些属性。未包含任何特性时，返回一个空数组。</span></li>
</ul>
<li>其他的后续补充</li>
</ul>
<li><b>C#属性</b>：

</li><ul>
<li>定义：属性（Property） 是类（class）、结构（structure）和接口（interface）的命名（named）成员。类或结构中的成员变量或方法称为 域（Field）。属性（Property）是域（Field）的扩展，且可使用相同的语法来访问。它们使用 访问器（accessors） 让私有域的值可被读写或操作。</li>
<li>特点：属性（Property）<b>不会确定存储位置</b>。相反，它们具有可读写或计算它们值的 访问器（accessors）。</li>
<li>用法示例：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 声明类型为 string 的 Code 属性</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">string</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Code</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">get</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">return</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> code</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">set</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
      code </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> value</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></div>
</li>
<li>抽象类可拥有抽象属性，这些属性应在派生类中被实现：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">abstract</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">class</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Person</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">abstract</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">string</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Name</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">get</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">set</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">abstract</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Age</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">get</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
         </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">set</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></div>
</li>
<li>属性可以只实现 get/set 方法的某一个，成为只读属性/只写属性。如果父类中的属性为只读或者只写，那么Ovveride的属性不能更改其读写特性。</li>
</ul>
<li><b>C#索引器</b>：

</li><ul>
<li>一维索引器的定义：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">element</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">type </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">this</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[key-type</span> <span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">index</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> <br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// get 访问器</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">get</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> <br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 返回 index 指定的值</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
<br>
   </span><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// set 访问器</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">set</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> <br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
     </span> <span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 设置 index 指定的值 </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
   </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></div>
</li>
<li>多维索引器定义：

</li><ul>
<li>示例：public int this[string name, int index1]{ ... }</li>
</ul>
<li>重载索引器：索引器（Indexer）可被重载。索引器声明的时候也可带有多个参数，且每个参数可以是不同的类型。没有必要让索引器必须是整型的。C# 允许索引器可以是其他类型，例如，字符串类型。</li>
</ul>
<li><b>C#委托</b>：

</li><ul>
<li>定义:类似于 C 或 C++ 中<b>函数的指针</b>。委托（Delegate） 是存有对某个方法的引用的一种引用类型变量。引用可在运行时被改变。委托（Delegate）特别用于实现事件和回调方法。所有的委托（Delegate）都派生自 System.Delegate 类。</li>
<li>语法：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">delegate</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&lt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">return</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> type</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&lt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">delegate</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">-</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">name</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&lt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">parameter list</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;</span></div>
</li>
<li><b>声明一种类型的委托</b>示例：
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">delegate</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">MyDelegate</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">string</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> s</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span></div>
</li>
<li><b>实例化委托变量</b>示例：<b>委托对象必须使用 new 关键字来创建，且与一个特定的方法有关</b>。当创建委托时，传递到 new 语句的参数就像方法调用一样书写，但是不带有参数。
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">delegate</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">void</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> printString</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">string</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> s</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br></span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">...</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
printString ps1 </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">new</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> printString</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteToScreen</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><br>
printString ps2 </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">new</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> printString</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteToFile</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span></div>
</li>
<li>委托的多播：

</li><ul>
<li>定义：委托对象可使用 "+" 运算符进行合并。一个合并委托调用它所合并的两个委托。只有相同类型的委托可被合并。"-" 运算符可用于从合并的委托中移除组件委托。</li>
<li>特点：委托合并后，函数调用的顺序与其添加的顺序一致。采用的是队列的方式。</li>
<li>作用：使用委托的这个有用的特点，您可以创建一个委托被调用时要调用的方法的调用列表。</li>
</ul>
<li>注意事项：委托和函数指针其实是完全一样的，只是 委托要求我们一定要 定义一种类型的委托【类似于typedef】，然后再拿着这个委托去声明变量。</li>
</ul>
<li><b>C#事件</b>：

</li><ul>
<li><b>重要</b>：细心点我们会发现，其实有event关键字有无的效果是一样。因为event主要的作用是给编译器识别的。event关键字，限定了外界对委托变量只能使用+=或-=操作符，对于其他的比如赋值或者调用都会被视为错误。而其他delegate变量只能先赋值，然后再做 += 或者 -= 操作，否则会出错。</li><li>语法&amp;示例：</li>
<li>
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="color: rgb(0, 0, 136);">public delegate void BoilerLogHandler(string status);</span></div>
</li>
<li>
<div style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); padding: 10px 15px; font-style: normal; font-variant-ligatures: normal; font-variant-position: normal; font-variant-caps: normal; font-variant-numeric: normal; font-variant-alternates: normal; font-variant-east-asian: normal; font-weight: normal; font-size: 12px; background-image: url(file:///images/codecolorer_bg.gif); background-color: rgb(251, 251, 251); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-position: 50% 0%; background-repeat: initial initial;"><span style="font-family: 'courier new';"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">event</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">BoilerLogHandler</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">BoilerEventLog</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span></span></div>
</li>
</ul>
<li><font face="courier new" size="2"><b>C#泛型</b>：</font></li><ul><li><font face="courier new" size="2">定义：<font style="font-size: 12px; font-family: 'courier new';">泛型允许您编写一个可以与任何数据类型一起工作的类或方法。</font></font></li><li><font face="courier new" size="2"><font style="font-size: 12px; font-family: 'courier new';">定义语法：</font></font></li><ul><li><font face="courier new" size="2"><font style="font-size: 12px; font-family: 'courier new';">类泛型：<pre style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">    </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">class</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">MyGenericArray</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&lt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">T</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
    </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
        </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">private</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> T</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> array</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
        </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">public</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">MyGenericArray</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> size</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
        </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span></span></span></span></pre></font></font></li><li><font face="courier new" size="2"><font style="font-size: 12px; font-family: 'courier new';">方法泛型：<pre style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">static</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">void</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Swap</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&lt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">T</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">ref</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> T lhs</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">ref</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> T rhs</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
        </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            T temp</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            temp </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> lhs</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            lhs </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> rhs</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            rhs </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> temp</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
        </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span></span></span></span></pre></font></font></li><li><font face="courier new" size="2"><font style="font-size: 12px; font-family: 'courier new';">委托泛型：<pre style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">delegate</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> T </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">NumberChanger</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&lt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">T</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&gt;(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">T n</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span></pre></font></font></li></ul><li><font face="courier new" size="2">使用语法：</font></li><ul><li><font face="courier new" size="2">类泛型：<pre style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 声明一个整型数组</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">MyGenericArray</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">&lt;int&gt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> intArray </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">new</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">MyGenericArray</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">&lt;int&gt;</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">5</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span></span></span></pre></font></li><li><font face="courier new" size="2">方法泛型：<pre style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 调用 swap</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Swap</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">&lt;int&gt;</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">ref</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> a</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">ref</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> b</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Swap</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">&lt;char&gt;</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">ref</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> c</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">ref</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> d</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span></span></span></pre></font></li><li><font face="courier new" size="2">委托泛型：<pre style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 创建委托实例</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">NumberChanger</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">&lt;int&gt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> nc1 </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">new</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">NumberChanger</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">&lt;int&gt;</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">AddNum</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">NumberChanger</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">&lt;int&gt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> nc2 </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">new</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">NumberChanger</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">&lt;int&gt;</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">MultNum</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span></span></span></span></span></pre></font></li></ul></ul><li><font style="font-size: 14px;" face="Helvetica Neue"><b>c#匿名方法</b>：</font></li><ul><li><font style="font-size: 14px;" face="Helvetica Neue">定义：<font style="font-family: 'Helvetica Neue';">提供了一种传递代码块作为委托参数的技术，</font>类似于block，可以捕获外部变量。</font></li><li><font style="font-size: 14px;" face="Helvetica Neue">要点：</font></li><ul><li><font style="font-size: 14px;" face="Helvetica Neue">由于c#中没有基本数据类型，全是对象，所以将会捕获外部变量</font></li><li><font style="font-size: 14px;" face="Helvetica Neue"><font style="font-family: 'Helvetica Neue';">匿名方法是没有名称只有主体的方法。</font><br></font></li><li><font style="font-size: 14px;" face="Helvetica Neue"><font style="font-family: 'Helvetica Neue';"><font style="font-family: 'Helvetica Neue';">在匿名方法中您不需要指定返回类型，它是从方法主体内的 return 语句推断的。</font><br></font></font></li><li><font style="font-size: 14px;" face="Helvetica Neue"><font style="font-family: 'Helvetica Neue';"><font style="font-family: 'Helvetica Neue';"><font style="font-family: 'Helvetica Neue';">匿名方法是通过使用 delegate 关键字创建委托实例来声明的。</font></font></font></font></li></ul><li><font face="Helvetica Neue">示例：<pre style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">delegate</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">void</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">NumberChanger</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> n</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);<pre style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">// 使用匿名方法创建委托实例</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">NumberChanger</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> nc </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">delegate</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> x</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
               </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Anonymous Method: {0}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> x</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">);</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">};</span></span></pre></span></span></span></pre></font></li></ul></ul><div><span style="font-size: 12px;"><span style="font-family: 'courier new';"><span style="color: rgb(102, 102, 0);"><br></span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: 'courier new';"><span style="color: rgb(102, 102, 0);"><br></span></span></span></div><div><b>C#API集合</b>：</div><ul>
<li>所有Collection都可以使用 foreach语句</li><li>ArrayList：动态数组

</li><ul>
<li>参考文章：<a href="http://www.runoob.com/csharp/csharp-arraylist.html" target="_blank" rel="external">http://www.runoob.com/csharp/csharp-arraylist.html</a></li>
<li>只要是 object 对象，就都可以加入数组，而C#所有对象都是继承于object的。</li>
</ul>
<li>Hashtable:哈希表【无序字典】，代表了一系列基于键的哈希代码组织起来的键/值对。它使用键来访问集合中的元素。</li><ul>
<li>参考文章：<a href="http://www.runoob.com/csharp/csharp-hashtable.html" target="_blank" rel="external">http://www.runoob.com/csharp/csharp-hashtable.html</a></li><li>注意，key应该是一个不可变对象。</li>
</ul><li>SortList:【有序字典】，按照key排序。</li><ul><li>参考文章：<a href="http://www.runoob.com/csharp/csharp-sortedlist.html" target="_blank" rel="external">http://www.runoob.com/csharp/csharp-sortedlist.html</a></li><li>不允许出现两个相同的key值，否则会报错。这里的相等使用的是 equals方法。两个相同内容的string对象，算是相同的key值。</li></ul><li>Stack：【堆栈】代表了一个后进先出的对象集合。当您需要对各项进行<b>后进先出</b>的访问时，则使用堆栈。当您在列表中添加一项，称为推入元素，当您从列表中移除一项时，称为弹出元素。</li><ul><li>参考文章：<a href="http://www.runoob.com/csharp/csharp-stack.html" target="_blank" rel="external">http://www.runoob.com/csharp/csharp-stack.html</a></li><li>使用foreach时，<b>依然遵照后进先出原则</b>。</li><li>使用ToArray()时，<font style="font-weight: bold;">依然遵照后进先出原则</font>。</li></ul><li>Queue：【队列】代表了一个先进先出的对象集合。当您需要对各项进行先进先出的访问时，则使用队列。当您在列表中添加一项，称为入队，当您从列表中移除一项时，称为出队。</li><ul><li>参考文章：<a href="http://www.runoob.com/csharp/csharp-queue.html" target="_blank" rel="external">http://www.runoob.com/csharp/csharp-queue.html</a></li><li style="">使用foreach时，<b>依然遵照先进先出原则</b>。</li><li style="">使用ToArray()时，<font style="font-weight: bold;">依然遵照先进先出原则</font>。</li></ul><li>BitArray：位数组。</li><ul><li>参考文章：<a href="http://www.runoob.com/csharp/csharp-bitarray.html" target="_blank" rel="external">http://www.runoob.com/csharp/csharp-bitarray.html</a></li><li>And( xxx ) 与 Xor( xxx )中，xxx操作必须确保与调用对象的长度是一致的。</li></ul><li>C#多线程：<br></li><ul><li>参考文章：<a href="http://www.runoob.com/csharp/csharp-multithreading.html" target="_blank" rel="external">http://www.runoob.com/csharp/csharp-multithreading.html</a></li><li>参考要点：</li><ul><li>主线程需要等待子线程执行结束才能退出。</li><li>当任一线程抛出异常或者意外终止时，整个程序都会退出。</li><li>线程可以在外部被终止，只需要对线程对象调用Abort()即可，具体来说就是 xxxThread.Abort()即可，该异常无法被 try-catch捕获，但是 如果有finally语句，依然可以执行。</li></ul></ul>
</ul><div>
<div>
<div><br></div>
<div><br></div>
<div><b>C#实用技巧</b>：</div>
<ul>
<li>判断一个对象是否属于某个类型：o is Object ，返回值时 Boolean,对于null的对象值，永远返回false。</li>
<li>强制转换对象：

</li><ul>
<li>方法一：在这个方法中，进行了两次类型检查，第一个if判断，第二次强制转换检查。is 等同于 OC中的 isKindOf: ,会查找继承链。</li>
</ul>
</ul>
<div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);">
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">if(o is Employee) {</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">Employee e = (Employee) o;</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">//在if语句中使用e</span></span></span></div>
<div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div>
</div>
<ul>

<ul>
<li>方法二：只进行一次类型检查，as是新推出的一个标识符。</li>
</ul>

</ul>
<div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>Employee e = o as Employee;</div><div>if(e != null)</div><div>{</div><div>//在if语句中使用e</div><div>}</div></div>
</div>
<ul>
<li><span style="border: 0px; padding: 0px;"><span style="color: rgb(0, 0, 136);">foreach </span>快速循环语句：foreach (MethodInfo m in type.GetMethods()) { … }可以迭代获取数组中的每一个成员。</span></li><li><span style="border: 0px; padding: 0px;">C#输出格式大全：</span></li><ul><li><span style="border: 0px; padding: 0px;">占位多少：{0，6}表示占6位，默认右对齐。{0，-6}表示占6位，但是左对齐。</span></li></ul><li>C#中值-结果参数的传递方法：swap( ref string a, ref string b )，需要使用 ref 标识对象，这样a和b取到的是外部指针本身。</li><li>unsafe：在c#中使用指针，必须为代码块添加上 unsafe 标识。该标识可以添加在方法修饰词位置，也可以单独形成一个代码块 unsafe{ … }.</li><ul><li>注意：Mono默认是不允许 unsafe 代码的，需要我们在项目设置中手动打开。详情参见Mono打开 unsafe 的方法。</li><li>用法：</li><ul><li>指向普通变量</li><li>指向数组变量：如果您需要使用指针变量访问数组数据，可以像我们通常在 C 或 C++ 中所做的那样，使用 fixed 关键字来固定指针。<pre style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; padding: 10px 15px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; font-family: &quot;courier new&quot;; white-space: pre-wrap; word-break: break-all; word-wrap: break-word; background: url(&quot;/images/codecolorer_bg.gif&quot;) center top rgb(251, 251, 251); color: rgb(51, 51, 51); letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">[]</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">  list </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">10</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">100</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">200</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">};</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
         </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">fixed</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">*</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">ptr </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> list</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">

         </span><span style="border: 0px; padding: 0px; color: rgb(136, 0, 0);">/* 显示指针中数组地址 */</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
         </span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">for</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> i </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">=</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">0</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> i </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">&lt;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(0, 102, 102);">3</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">;</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> i</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">++)</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">{</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Address of list[{0}]={1}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">i</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 136);">int</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">)(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">ptr </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">+</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> i</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">));</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
            </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">WriteLine</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">(</span><span style="border: 0px; padding: 0px; color: rgb(0, 136, 0);">"Value of list[{0}]={1}"</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> i</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">,</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">*(</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">ptr </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">+</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);"> i</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">));</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">}</span><span style="border: 0px; padding: 0px; color: rgb(0, 0, 0);">
         </span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">Console</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">.</span><span style="border: 0px; padding: 0px; color: rgb(102, 0, 102);">ReadKey</span><span style="border: 0px; padding: 0px; color: rgb(102, 102, 0);">();</span></span></span></span></span></span></span></span></span></span></pre></li></ul></ul></ul>

</div><div><br></div><div><br></div><div><b>常见问题</b>：</div><div><ul><li>C#不允许使用实例变量去调用它的静态方法。</li></ul></div><div><br></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/Unity引擎学习笔记/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/Unity引擎学习笔记/" itemprop="url">
                  Unity引擎学习笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:27+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Unity笔记/" itemprop="url" rel="index">
                    <span itemprop="name">Unity笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/Unity引擎学习笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/Unity引擎学习笔记/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="altitude" content="14.69522285461426"><meta name="author" content="程剑锋"><meta name="created" content="2016-11-10 02:56:05 +0000"><meta name="latitude" content="31.22305874584856"><meta name="longitude" content="121.3562943226172"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-12-05 14:59:40 +0000"><title>Unity引擎学习笔记</title></head><body><div><div><div><b>参考资料：</b></div><ul><li><font style="font-size: 14px;"><b>官方手册：</b>file:///Applications/Unity/Unity.app/Contents/Documentation/en/Manual/UnityManual.html,这还是离线手册。</font></li></ul><div><br></div></div><div><br></div></div><div><b>引擎基础知识学习</b>：</div><div><ul><li>最常见的资源之间的关系介绍：</li><ul><li>纹理【Texture】应用于材质【Material】</li><li>材质【Material】应用于游戏对象【GameObject，带有网格渲染组件】</li><li>动画【Animation】应用于游戏对象【GameObject，带有动画组件】</li><li>音频文件【Audio】应用于游戏对象【GameObject，带有音源组件】</li></ul><li style="">纹理【Texture】：</li><ul><li style="">参考：<a href="http://www.ceeger.com/Components/class-Texture2D.html" target="_blank" rel="external">http://www.ceeger.com/Components/class-Texture2D.html</a></li><li style="">纹理尺寸是2的升幂（如32x32，64x64，128x128，256x256等）。<br></li></ul><li style="">材质【Material】：<br></li><ul><li style="">每个材质都需要选择着色器【Shader】，每种着色器都有自己更加适合的渲染场景。</li><li style="">着色器分类：</li><ul><li style="">主游戏对象着色器：</li><ul><li style="">普通 (Normal)：不透明纹理对象。</li><li>透明 (Transparent)：部分透明的对象。纹理的 alpha 通道定义着透明度。</li><li>镂空透明 (TransparentCutOut)：含完全不透明和完全透明区域的对象，如：栅栏。</li><li>自发光 (Self-Illuminated)：有发光部件的对象。</li><li style="">反光 (Reflective)：反射环境立方体贴图 (Cubemap) 的不透明纹理对象。<br></li></ul><li>FX：光照和水景效果。</li><li>GUI: 图形用户界面显示。</li><li>自然 (Nature)：树木和地貌。</li><li>粒子 (Particles)：粒子系统效果。</li><li>Render FX：天空盒着色器。</li><li style="">卡通 (Toon)：卡通风格的渲染。<br></li><li style="">有些着色器还有移动设备的版本。</li></ul><li style="">参考文章：<a href="http://docs.manew.com/Manual/index.htm" target="_blank" rel="external">http://docs.manew.com/Manual/index.htm</a></li></ul><li style="">游戏对象是一个容器，组件是容器里的各个功能模块，脚本是各个事件的回调对象。【事件可由系统或者其他组件、对象发出】</li><li style="">组件特性介绍：</li><ul><li style="">组件的属性分为赋值属性和引用属性。</li></ul><li style="">组件类型分类：</li><ul style=""><li>变换组件【Transform】：</li><ul><li>默认组件，所有游戏对象都有。</li><li>决定了物体的位置、旋转、大小和Local坐标系等元素。</li></ul><li>刚体组件【R<span style="color: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;">igidbody</span>】：</li><ul><li>这是为物体赋予物理能力的组件，只有拥有刚体组件的物体会遵循物理规律，比如重力作用，动量守恒/能量守恒等。重力式刚体组件中的一个特性，可以被单独去除。</li></ul><li>脚本组件【<font face="Menlo">MonoBehaviour</font>】：</li><ul><li>当为一个gameobject【预制对象/新建对象/编辑器创建对象】添加脚本组件后，该脚本对象的gameObject成员将和实际的控件关联到一起。</li><li>脚本组件可以在外部被获取，被获取后，使用 scriptObj.enabled = false,可以使脚本组件不再生效。</li></ul><li>碰撞组件【Collider】：</li><ul><li>只有接触双方都开启碰撞组件的情况下，才会发生碰撞关系。碰撞组件默认开启。当发生碰撞时，会调用双方的</li></ul><li>音频组件【Audio】：</li><ul><li>包括音频、视频等</li><li>想要在一个gameObject上顺利的播放Audio组件，必须确保其上有一个Audio Listener组件。</li><li>播放源 (Source) 时，音频侦听器 (Audio Listener) 可"听到"范围内的所有源，将这些源组合起来，声音即可通过扬声器发出。您的场景中只能有一个音频监听器 (Audio Listener)，并且监听器通常附属于主相机 (Main Camera)。<br></li></ul><li>光源组件【light】：</li><ul><li>光源分为 平行光，点光源，聚光灯，渲染消耗资源依次增加。</li><li>渲染方式分为 顶点渲染【粗糙】和像素渲染。</li><li>【节省资源】：如果某个场景中的光照是固定的，那么可以使用光照贴图代替场景光照本身。<br></li></ul><li>摄像机组件【Camera】：【<a href="http://www.ceeger.com/Manual/Cameras.html" target="_blank" rel="external">http://www.ceeger.com/Manual/Cameras.html</a>】</li><ul><li>你可以创建多个相机并且给每一个分配不同的深度。相机是按深度从低到高来绘制的。<br></li><li>你可以调整标准视口矩形（参照前面的属性列表）的属性值来改变其大小和其在屏幕上的位置。这样你就可以创建多个小视窗，如导弹控制器，小地图窗口，后视镜等等。<br></li><li>出于性能原因，你可能需要尽早剔除小物体。例如，小石块和碎片相对于大型建筑会在更短距离内不可见。要做到这一点，将小物体放入一个隔离层（separate layer）并使用Camera.layerCullDistances脚本函数设置每一层的剔除距离<br></li></ul><li>动画组件【Animation】：</li><li>网格过滤器组件【Mesh Filter】：</li><ul><li>Mesh将决定物体的渲染方式和形状。</li><li>网格是一组顶点和三角形数组。</li></ul><li>网格渲染器组件【Mesh Render】：</li></ul></ul></div><div><br></div><div><br></div><div><b>引擎进阶知识</b>：</div><div><ul><li>引擎默认方向：Y轴竖向朝上为正，Z轴指向屏幕内为正，X轴与屏幕平齐向右为正。</li><li>引擎事件处理机制：</li><ul><li>所有的回调函数都编写在script类中，该类继承于MonoBehaviour。</li><li>很多组件都有他们相应的 Message消息，当产生这些消息时，发送相应的消息即可调用到 script中已编写的回调。</li><li>gameObject的sendMessage（）函数有三种类型，具体可以参见：<a href="http://www.cnblogs.com/sevenmoons/p/3990397.html" target="_blank" rel="external">http://www.cnblogs.com/sevenmoons/p/3990397.html</a></li><ul><li>sendMessage方法，目前最多只支持一个参数，且无参和单参数且类型匹配的方法都会被调用到。</li><li>可以调用 private方法</li><li>如果一个gameObject下挂有多个脚本，那么会将所有enable脚本的 指定函数名函数都执行一遍。</li></ul><li>关于sendMessage的详解：<a href="http://www.cnblogs.com/kylinxue/p/4473444.html" target="_blank" rel="external">http://www.cnblogs.com/kylinxue/p/4473444.html</a></li><li>关于sendMessage的效率分析：<a href="http://blog.csdn.net/cartzhang/article/details/50686627" target="_blank" rel="external">http://blog.csdn.net/cartzhang/article/details/50686627</a></li><li>关于C#动态执行字符串对应函数的实现：<a href="https://zhidao.baidu.com/question/570693043.html" target="_blank" rel="external">https://zhidao.baidu.com/question/570693043.html</a></li></ul><li>游戏中有很多的游戏对象，每个对象都会有很多的组件，比如刚体组件，脚本组件等。每一个脚本必定是绑定到某一个具体的gameObject才会生效。此时，脚本类中 this代表的是脚本组件本身，而this.gameObject代表的是游戏对象。</li><li>获取控件的方式：</li><ul><li>代码获取：使用 Gameobjet.Find( string name ) 可以获取当该名字的对象，需要注意的是，这种查找是递归遍历查找的方式，即使是非直接元素，也可以被获取到。【因此，我们在设计面板中控件的名字一定要不同】</li><li>动态绑定【建议】：在脚本中生成一个该类型的成员变量，然后在 属性面板 - Script 中对该变量进行拖放赋值。</li><ul><li>此处最为赞的一点是，如果我们声明的变量是某一个组件，那么当我们把该组件所属的gameObj拖放到该变量上时<b>，该变量的值 = gameObj.组件</b> ，而不会傻乎乎的是那个gameObj。</li></ul></ul><li>获取组件的方式：</li><ul><li>对象：任一GameObject对象。</li><li>方式：使用 gameObj.getComponent&lt;Type&gt;() 即可获取到相应组件，Type的名字一般与我们在属性面板看到的名字相同，即组件类名。但需要注意，该方法可能返回为空。</li><ul><li>获取脚本组件的方式：gameObj.getComponent&lt;脚本类名&gt;()，其实这里的Type指的就是类名。</li></ul></ul><li>gameObejct可以被动态的启用或者停用，调用gameObject.activeSelf = True/False，即可修改激活状态。</li><ul><li>注意，修改父对象的activeSelf会影响所有子对象的激活状态，但是子对象的activeSelf不变化。因此，要判断一个对象是否真的激活，需要读取该对象的activeInHierarchy。</li></ul><li>多重对象编辑：在选择多个对象时，在检视面板上只有那些在所有被选中的对象上出现的组件才会被显示出来。如果组件只存在与某些被选中对象上，那么在检视面板底部出现一个小的提示，指示那些仅仅在部分被选中对象中存在的组件不能被多重编辑<br></li></ul></div><div><br></div><div><br></div><div><b>细分概念</b>：</div><div><div><ul><li style="">skin width：指的是两个碰撞物体发生碰撞时可被渗透的范围。<br></li><li style="">Camera - Viewport Rect:</li><ul style=""><li>作用：每一个camera都可以将自己捕获到的画面渲染到屏幕上，这个可以使视图只在屏幕的部分区域展示，实现多个摄像机画面同时输出。</li><li>坐标系统：左下角【0，0】 - 右上角【1，1】，超出范围不展示</li><li>大小系统：【0，0】 - 【1，1】</li></ul><li style="">Camera - Depth:展示优先级，优先级越大的摄像机，画面越后渲染，可以覆盖之前的画面。其与Viewport Rect 结合可以生成画中画效果。</li></ul></div><div><br></div><div><div><div><br></div></div></div></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="https://treasureu.github.io/2017/02/09/Unity工具学习笔记/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Cheng JianFeng">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/logo.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Cheng JianFeng's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Cheng JianFeng's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/Unity工具学习笔记/" itemprop="url">
                  Unity工具学习笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T12:11:27+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Unity笔记/" itemprop="url" rel="index">
                    <span itemprop="name">Unity笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/09/Unity工具学习笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/Unity工具学习笔记/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="exporter-version" content="Evernote Mac 6.10 (454269)"><meta name="altitude" content="15.76348972320557"><meta name="author" content="程剑锋"><meta name="created" content="2016-12-02 14:53:35 +0000"><meta name="latitude" content="31.2164282358658"><meta name="longitude" content="121.3022841496821"><meta name="source" content="desktop.mac"><meta name="updated" content="2016-12-04 06:30:52 +0000"><title>Unity工具学习笔记</title></head><body><div><ul><li>Unity项目面板：<br></li><ul><li>Project Browser：项目文件管理界面，<a href="http://www.ceeger.com/Manual/ProjectView40.html" target="_blank" rel="external">http://www.ceeger.com/Manual/ProjectView40.html</a></li><ul><li>支持多重条件搜索【and关系，空格分开】</li><li>支持类型搜索、标签搜索【支持GUI以及特定语法方式，同类型支持多个条件，or关系，使用 ctrl 多选，或者直接使用语法添加】</li><li>支持搜索条件一键保存</li><li>支持Asset、选中文件夹、Asset Store三个范围的搜索</li></ul><li>Hierarchy：包含游戏中所有gameobject，<a href="http://www.ceeger.com/Manual/Hierarchy.html" target="_blank" rel="external">http://www.ceeger.com/Manual/Hierarchy.html</a><br></li><ul><li>父子级：子对象将继承父对象的移动、旋转和缩放，参见变化：<a href="http://www.ceeger.com/Components/class-Transform.html#Parenting" target="_blank" rel="external">http://www.ceeger.com/Components/class-Transform.html#Parenting</a>。</li></ul><li>Toolbar：工具栏，<a href="http://www.ceeger.com/Manual/Toolbar.html" target="_blank" rel="external">http://www.ceeger.com/Manual/Toolbar.html</a></li><ul><li>Layers：控制那一层的对象可以显示在场景中，具体作用：<a href="http://www.ceeger.com/Components/Layers.html" target="_blank" rel="external">http://www.ceeger.com/Components/Layers.html</a></li><li>Layout：unity整个页面的各个面板布局是如何的，不要轻易切换。</li><li><img src="/Resources/Unity%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.resources/3DF93C11-2C42-414C-B397-B5C4B67976ED.jpg" height="18" width="128"><span style="color: rgb(53, 47, 40); font-family: Verdana, Geneva, sans-serif; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none;"> :切换轴心点，物体本地坐标系/全局坐标系</span><br></li></ul><li style="orphans: 2; widows: 2;"><font color="#352f28"><font face="Helvetica Neue"><font style="font-size: 14px;">Scene View：场景视图</font><font size="2">，<a href="http://www.ceeger.com/Manual/SceneView40.html" target="_blank" rel="external">http://www.ceeger.com/Manual/SceneView40.html</a></font></font></font></li><ul><li style="orphans: 2; widows: 2;"><font color="#352f28"><font face="Helvetica Neue"><font style="font-size: 14px;">操作技巧</font><font size="2">：</font><a style="font-size: small;" href="http://www.ceeger.com/Manual/SceneView40.html" target="_blank" rel="external">http://www.ceeger.com/Manual/SceneView40.html</a></font></font></li><li style="orphans: 2; widows: 2;"><font style="font-size: 14px;" color="#352f28">视图模式</font><font color="#352f28" size="2">：<a href="http://www.ceeger.com/Manual/ViewModes.html" target="_blank" rel="external">http://www.ceeger.com/Manual/ViewModes.html</a></font></li><li style="orphans: 2; widows: 2;">顶点<font face="Helvetica Neue">拼接操作</font>：<a href="http://www.ceeger.com/Manual/PositioningGameObjects.html" target="_blank" rel="external">http://www.ceeger.com/Manual/PositioningGameObjects.html</a></li><ul><li style="orphans: 2; widows: 2;">可以用于快速拼接墙体，赛道等物体。</li></ul><li style="orphans: 2; widows: 2;">场景视图工具栏：<a href="http://www.ceeger.com/Manual/ViewModes.html" target="_blank" rel="external">http://www.ceeger.com/Manual/ViewModes.html</a></li></ul></ul><li><b>帮助提示</b>：属性面板凡是有不懂的地方，可以直接点 【?】可以直接跳转到网页说明，里面有详细解释。</li><li>视角切换技巧：【先把视角想象成一个人眼摄像机，注意，与游戏中的视觉摄像机是分开的两套系统】</li><ul><li>使用 alt + 鼠标：可以调整摄像机拍摄的方向</li><li>使用双指前进/后退：可以调整摄像机的放大倍数，或者说是沿着拍摄方向移动摄像机前进或者后退一段距离。</li><li>使用方向键：移动摄像机的位置</li><li><img src="/Resources/Unity%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.resources/D2E7B236-084F-42F7-97D6-6D2344D45A5A.png" height="120" width="704">：可以使用鼠标拖拽画面<br></li><li>在控件面板中选中一个物体，然后鼠标切换到设计面板并激活，然后按F，即可将视角中心切换到此处。</li></ul><li>Scene面板tab栏的作用：【<img src="/Resources/Unity%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.resources/D2E7B236-084F-42F7-97D6-6D2344D45A5A.png" height="120" width="704">】</li><ol><li>拖拽画面：使用鼠标拖拽画面</li><li>拖拽物体：选中物体，并拖拽移动物体。当选中轴时，会顺着轴移动，当选中整个物体时，可以任意移动。</li><li>旋转物体：会出现三个颜色不同的圈，与颜色相同的轴相切。可以选中物体向任意方向拨动。</li><li>拉伸物体：会出现与坐标轴一样的轴向，任意拖动一轴，可以沿该方向拉伸/缩放物体。</li><li>拉伸物体【高级】：以顶点方式拉伸变化物体，可以视为4的进阶版。</li></ol><li>脚本语言的选择：</li><ul><li>Unity支持C# 和 JS 脚本共存，反正都只起到脚本作用。</li><li>对同一个物体可以添加多个脚本，一个脚本也可以赋给多个脚本。当一个物体上有多个脚本时，默认之前排名第一的脚本。【即使都勾选的情况下也是如此】</li></ul><li>输入事件：在 Unity - Edit Projecting - Input 中，可以在属性面板中查看所有的输入事件，每个事件都有自己相应的键位设置/鼠标按钮。</li><ul><li>Unity中文API教程：<a href="http://wiki.ceeger.com/script/unity_api" target="_blank" rel="external">http://wiki.ceeger.com/script/unity_api</a></li></ul><li>关于人物镜头实现拟人化观察的￼方法：【以下以默认引擎坐标系为例讲解】</li><ul><li>基础能力：</li><ul><li>提供沿着Z轴方向移动的能力，即可模拟人物前进/后退的动作。</li><li>提供沿着X轴方向移动的能力，即可模拟人物水平左移/右移的动作。</li><li>提供绕Y轴旋转的能力【默认顺时针为正方向】，即可模拟人物水平转动头的动作。</li><li>提供绕X轴旋转的能力【默认顺时针为正方向】，即可模拟人物抬头/低头的动作。</li></ul><li>附加能力：</li><ul><li>提供沿着Y轴方向移动的能力，即可模拟人物跳跃/蹲下、升起/坠落的动作。</li><li>提供沿着绕Z轴旋转的能力，即可模拟人物脑袋在竖直面上被旋转的动作，比如被倒挂或者是躺下。</li></ul></ul><li>非UI控件的坐标系：【3D Object、2D Object、Light、Camera】</li><ul><li>坐标系：3D立体坐标系，所见即所得。</li><li>游戏运行时的画面，则由摄像头的视角提供。</li></ul><li>UI控件的坐标系：【这是设计面板上创建时使用的坐标系，使用代码时规则不同】</li><ul><li>Canvans坐标系：在创建对象后，会默认生成一个 Canvans 对象，所有的UI对象都添加到该Canvans中。Canvans本身在设计面板上看上去会很大，但是再运行时，整个Canvans会变成一个屏幕的大小，且出现在屏幕的最前端，并固定。</li><li>Canvans坐标系规则：</li><ul><li>该坐标系本身是个2D坐标系。</li><li>Canvans的大小为【1250，1098】，默认左下角位置在世界坐标系的原点。</li><li>其内所有元素的布局， Position的原点在Canvans的中心点，x向右为正，y向上为正。</li><li>超出Canvans范围的元素将不做展示。</li><li>可以使用相对布局规则，即iOS中的<font style="font-weight: bold;">autoresizingmask方式，可参见<a style="color:#69aa35;" href="evernote:///view/2147483647/s39/19393b69-f473-4606-89e1-c6cefdb44db9/19393b69-f473-4606-89e1-c6cefdb44db9/" target="_blank" rel="external">横竖屏适配经验</a></font></li><li>Z轴作用不明，目前发现不会影响显示优先级以及投影的大小。</li></ul><li>Canvans投影到实际屏幕的映射关系：</li><ul><li>固定像素大小</li><li>缩放</li><li>固定物理大小</li></ul></ul><li>UI控件学习：</li><ul><li>Text：当该空间内容的大小超过自身的大小时【主要是高度，长度可以自动换行】，内容将不再展示。</li><li>注意事项：</li><ul><li>UI控件也可以添加刚体属性。</li><li>当需要在脚本中操作UI对象时，需要添加头文件 using UnityEngine.UI .</li></ul></ul><li>预制物体：</li><ul><li>制作方式：在设计面板生成一个物体，然后新建一个文件夹【一般命名为 Prefab，但其实名字可以随意】，然后将该物体拖放到该文件夹中，即可变成一个可被重复利用的预制物体。</li><li>优点：物体可被重复利用，且可以随时为其添加脚本，修改属性，所有的该预制物体控件，以及复制的控件，都会产生修改效果。</li></ul><li>Layer:</li><ul><li>作用：一种物体分类方式。所有物体新建时默认处于Default层。</li><li>效果：只有处于同一层的物体才会发生碰撞。</li></ul><li>坐标系调整技巧：</li><ul><li>顶点捕捉模式：【用于快捷拼接元素】</li><ul><li>先把场景视图切换到坐标系模式【十字架】</li><li>选中一个物体，按住v，激活顶点捕捉模式</li><li>使用鼠标左键选中该物体的一个顶点</li><li>拖动网格到紧贴另一个物体的顶点</li><li>对结果满意时，放开v和鼠标左键</li><li>可以支持顶点到顶点，顶点到表面和顶点到轴心。</li></ul><li>格式化移动：</li><ul><li>当使用移动工具时，顺着某一个轴按住Command键可以按照增量的方式在移动。</li><li>在菜单Edit-&gt;Snap Settings可以修改增量值</li></ul></ul><li>Prefab预制任务：</li><ul><li>预制源和由其产生的实例对象之间存在继承关系</li><li>实例对象可以覆盖预制源的一些属性，且这些属性以实例对象的修改为优先值。</li><li>使用Apply可以使自己修改的变量应用到预制源，进而应用到所有的预制实例对象。选择Revert可以将自己的属性恢复到预制状态。</li><li>实例对象与预制源属性不一致的地方，会采用黑体标粗展示。</li></ul><li>渲染方式：【<a href="http://www.ceeger.com/Manual/RenderingPaths.html" target="_blank" rel="external">http://www.ceeger.com/Manual/RenderingPaths.html</a>】</li><ul><li>延迟光照【Pro，移动设备不支持】</li><li>正向渲染：一个基于着色器的渲染路径。它支持逐像素计算光照（包括法线贴图和灯光Cookies）和来自一个平行光的实时阴影。在默认设置中，少数最亮的灯光在逐像素计算光照模式下渲染。其余的灯光计算对象顶点的光照。【<a href="http://www.ceeger.com/Components/RenderTech-ForwardRendering.html" target="_blank" rel="external">http://www.ceeger.com/Components/RenderTech-ForwardRendering.html</a>】</li><li>顶点光照：是最低保真度的光照、不支持实时阴影的渲染路径。【<a href="http://www.ceeger.com/Components/RenderTech-VertexLit.html" target="_blank" rel="external">http://www.ceeger.com/Components/RenderTech-VertexLit.html</a>】</li></ul></ul><br></div><div><br></div><div><br></div><div><b>Unity工具使用注意事项</b>：</div><div><ul><li>资源管理方式：在你的项目视图里面重命名和移动文件的核心内容；什么都不会破坏。<b>永远不要从Finder或其他程序重命名或移动任何东西，一切都会被破坏</b>。总之，Unity为每个资源（如导入设置的东西、压缩纹理缓存版本等）存储了大量的元数据，如果你从外部移动一个文件，Unity将不可以再为移动的文件关联元数据。<br></li></ul></div><div><br></div></body></html>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/logo.jpg"
               alt="Cheng JianFeng" />
          <p class="site-author-name" itemprop="name">Cheng JianFeng</p>
          <p class="site-description motion-element" itemprop="description">iOS,Python,Unity</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">74</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/TreasureU" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://treasureu.github.io/" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://treasureu.github.io/" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://treasureu.github.io/" target="_blank" title="简书">
                  
                    <i class="fa fa-fw fa-book"></i>
                  
                  简书
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cheng JianFeng</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"ChengJianFeng"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js?v=5.1.0"></script>
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  










  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
